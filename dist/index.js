var SPX=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=38)}([function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},o=i.lib={},r=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=o.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,o=e.sigBytes;if(this.clamp(),i%4)for(var r=0;r<o;r++){var s=n[r>>>2]>>>24-r%4*8&255;t[i+r>>>2]|=s<<24-(i+r)%4*8}else for(r=0;r<o;r+=4)t[i+r>>>2]=n[r>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,i=[],o=function(t){t=t;var n=987654321,i=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&i)<<16)+(t=18e3*(65535&t)+(t>>16)&i)&i;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},r=0;r<t;r+=4){var a=o(4294967296*(n||e.random()));n=987654071*a(),i.push(4294967296*a()|0)}return new s.init(i,t)}}),a=i.enc={},l=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var r=t[o>>>2]>>>24-o%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new s.init(n,t/2)}},u=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var r=t[o>>>2]>>>24-o%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new s.init(n,t)}},c=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},f=o.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,o=n.sigBytes,r=this.blockSize,a=o/(4*r),l=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*r,u=e.min(4*l,o);if(l){for(var c=0;c<l;c+=r)this._doProcessBlock(i,c);var f=i.splice(0,l);n.sigBytes-=u}return new s.init(f,u)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(o.Hasher=f.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),i.algo={});return i}(Math);return e},"object"===a(t)?e.exports=t=s():(o=[],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){e.lib.Cipher||function(t){var n=e,i=n.lib,o=i.Base,r=i.WordArray,s=i.BufferedBlockAlgorithm,a=n.enc,l=(a.Utf8,a.Base64),u=n.algo.EvpKDF,c=i.Cipher=s.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:m}return function(t){return{encrypt:function(n,i,o){return e(i).encrypt(t,n,i,o)},decrypt:function(n,i,o){return e(i).decrypt(t,n,i,o)}}}}()}),f=(i.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),n.mode={}),p=i.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),d=f.CBC=function(){var e=p.extend();function n(e,n,i){var o=this._iv;if(o){var r=o;this._iv=t}else r=this._prevBlock;for(var s=0;s<i;s++)e[n+s]^=r[s]}return e.Encryptor=e.extend({processBlock:function(e,t){var i=this._cipher,o=i.blockSize;n.call(this,e,t,o),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+o)}}),e.Decryptor=e.extend({processBlock:function(e,t){var i=this._cipher,o=i.blockSize,r=e.slice(t,t+o);i.decryptBlock(e,t),n.call(this,e,t,o),this._prevBlock=r}}),e}(),h=(n.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,i=n-e.sigBytes%n,o=i<<24|i<<16|i<<8|i,s=[],a=0;a<i;a+=4)s.push(o);var l=r.create(s,i);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},g=(i.BlockCipher=c.extend({cfg:c.cfg.extend({mode:d,padding:h}),reset:function(){c.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=n.createEncryptor;else{i=n.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==i?this._mode.init(this,t&&t.words):(this._mode=i.call(n,this,t&&t.words),this._mode.__creator=i)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{t=this._process(!0);e.unpad(t)}return t},blockSize:4}),i.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),y=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var i=r.create([1398893684,1701076831]).concat(n).concat(t);else i=t;return i.toString(l)},parse:function(e){var t=l.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var i=r.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return g.create({ciphertext:t,salt:i})}},m=i.SerializableCipher=o.extend({cfg:o.extend({format:y}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var o=e.createEncryptor(n,i),r=o.finalize(t),s=o.cfg;return g.create({ciphertext:r,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(n.kdf={}).OpenSSL={execute:function(e,t,n,i){i||(i=r.random(8));var o=u.create({keySize:t+n}).compute(e,i),s=r.create(o.words.slice(t),4*n);return o.sigBytes=4*t,g.create({key:o,iv:s,salt:i})}},b=i.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:v}),encrypt:function(e,t,n,i){var o=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize);i.iv=o.iv;var r=m.encrypt.call(this,e,t,o.key,i);return r.mixIn(o),r},decrypt:function(e,t,n,i){i=this.cfg.extend(i),t=this._parse(t,i.format);var o=i.kdf.execute(n,e.keySize,e.ivSize,t.salt);return i.iv=o.iv,m.decrypt.call(this,e,t,o.key,i)}})}()},"object"===a(t)?e.exports=t=s(n(0),n(2)):(o=[n(0),n(2)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t,n,i,o,r,s,a;return n=(t=e).lib,i=n.Base,o=n.WordArray,r=t.algo,s=r.MD5,a=r.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=n.hasher.create(),r=o.create(),s=r.words,a=n.keySize,l=n.iterations;s.length<a;){u&&i.update(u);var u=i.update(e).finalize(t);i.reset();for(var c=1;c<l;c++)u=i.finalize(u),i.reset();r.concat(u)}return r.sigBytes=4*a,r}}),t.EvpKDF=function(e,t,n){return a.create(n).compute(e,t)},e.EvpKDF},"object"===a(t)?e.exports=t=s(n(0),n(7),n(6)):(o=[n(0),n(7),n(6)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return function(t){var n=e,i=n.lib,o=i.WordArray,r=i.Hasher,s=n.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=s.MD5=r.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,o=e[i];e[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var r=this._hash.words,s=e[t+0],l=e[t+1],d=e[t+2],h=e[t+3],g=e[t+4],y=e[t+5],m=e[t+6],v=e[t+7],b=e[t+8],S=e[t+9],x=e[t+10],_=e[t+11],k=e[t+12],I=e[t+13],T=e[t+14],w=e[t+15],C=r[0],L=r[1],D=r[2],A=r[3];L=p(L=p(L=p(L=p(L=f(L=f(L=f(L=f(L=c(L=c(L=c(L=c(L=u(L=u(L=u(L=u(L,D=u(D,A=u(A,C=u(C,L,D,A,s,7,a[0]),L,D,l,12,a[1]),C,L,d,17,a[2]),A,C,h,22,a[3]),D=u(D,A=u(A,C=u(C,L,D,A,g,7,a[4]),L,D,y,12,a[5]),C,L,m,17,a[6]),A,C,v,22,a[7]),D=u(D,A=u(A,C=u(C,L,D,A,b,7,a[8]),L,D,S,12,a[9]),C,L,x,17,a[10]),A,C,_,22,a[11]),D=u(D,A=u(A,C=u(C,L,D,A,k,7,a[12]),L,D,I,12,a[13]),C,L,T,17,a[14]),A,C,w,22,a[15]),D=c(D,A=c(A,C=c(C,L,D,A,l,5,a[16]),L,D,m,9,a[17]),C,L,_,14,a[18]),A,C,s,20,a[19]),D=c(D,A=c(A,C=c(C,L,D,A,y,5,a[20]),L,D,x,9,a[21]),C,L,w,14,a[22]),A,C,g,20,a[23]),D=c(D,A=c(A,C=c(C,L,D,A,S,5,a[24]),L,D,T,9,a[25]),C,L,h,14,a[26]),A,C,b,20,a[27]),D=c(D,A=c(A,C=c(C,L,D,A,I,5,a[28]),L,D,d,9,a[29]),C,L,v,14,a[30]),A,C,k,20,a[31]),D=f(D,A=f(A,C=f(C,L,D,A,y,4,a[32]),L,D,b,11,a[33]),C,L,_,16,a[34]),A,C,T,23,a[35]),D=f(D,A=f(A,C=f(C,L,D,A,l,4,a[36]),L,D,g,11,a[37]),C,L,v,16,a[38]),A,C,x,23,a[39]),D=f(D,A=f(A,C=f(C,L,D,A,I,4,a[40]),L,D,s,11,a[41]),C,L,h,16,a[42]),A,C,m,23,a[43]),D=f(D,A=f(A,C=f(C,L,D,A,S,4,a[44]),L,D,k,11,a[45]),C,L,w,16,a[46]),A,C,d,23,a[47]),D=p(D,A=p(A,C=p(C,L,D,A,s,6,a[48]),L,D,v,10,a[49]),C,L,T,15,a[50]),A,C,y,21,a[51]),D=p(D,A=p(A,C=p(C,L,D,A,k,6,a[52]),L,D,h,10,a[53]),C,L,x,15,a[54]),A,C,l,21,a[55]),D=p(D,A=p(A,C=p(C,L,D,A,b,6,a[56]),L,D,w,10,a[57]),C,L,m,15,a[58]),A,C,I,21,a[59]),D=p(D,A=p(A,C=p(C,L,D,A,g,6,a[60]),L,D,_,10,a[61]),C,L,d,15,a[62]),A,C,S,21,a[63]),r[0]=r[0]+C|0,r[1]=r[1]+L|0,r[2]=r[2]+D|0,r[3]=r[3]+A|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,o=8*e.sigBytes;n[o>>>5]|=128<<24-o%32;var r=t.floor(i/4294967296),s=i;n[15+(o+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[14+(o+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,l=a.words,u=0;u<4;u++){var c=l[u];l[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return a},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,i,o,r,s){var a=e+(t&n|~t&i)+o+s;return(a<<r|a>>>32-r)+t}function c(e,t,n,i,o,r,s){var a=e+(t&i|n&~i)+o+s;return(a<<r|a>>>32-r)+t}function f(e,t,n,i,o,r,s){var a=e+(t^n^i)+o+s;return(a<<r|a>>>32-r)+t}function p(e,t,n,i,o,r,s){var a=e+(n^(t|~i))+o+s;return(a<<r|a>>>32-r)+t}n.MD5=r._createHelper(l),n.HmacMD5=r._createHmacHelper(l)}(Math),e.MD5},"object"===a(t)?e.exports=t=s(n(0)):(o=[n(0)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return function(){var t=e,n=t.lib.WordArray;t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var o=[],r=0;r<n;r+=3)for(var s=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,a=0;a<4&&r+.75*a<n;a++)o.push(i.charAt(s>>>6*(3-a)&63));var l=i.charAt(64);if(l)for(;o.length%4;)o.push(l);return o.join("")},parse:function(e){var t=e.length,i=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var r=0;r<i.length;r++)o[i.charCodeAt(r)]=r}var s=i.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,i){for(var o=[],r=0,s=0;s<t;s++)if(s%4){var a=i[e.charCodeAt(s-1)]<<s%4*2,l=i[e.charCodeAt(s)]>>>6-s%4*2;o[r>>>2]|=(a|l)<<24-r%4*8,r++}return n.create(o,r)}(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64},"object"===a(t)?e.exports=t=s(n(0)):(o=[n(0)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t,n,i,o,r;return n=(t=e).lib,i=n.Base,o=n.WordArray,(r=t.x64={}).Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],i=0;i<t;i++){var r=e[i];n.push(r.high),n.push(r.low)}return o.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,o=0;o<n;o++)t[o]=t[o].clone();return e}}),e},"object"===a(t)?e.exports=t=s(n(0)):(o=[n(0)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t,n,i;n=(t=e).lib.Base,i=t.enc.Utf8,t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,o=4*n;t.sigBytes>o&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),s=this._iKey=t.clone(),a=r.words,l=s.words,u=0;u<n;u++)a[u]^=1549556828,l[u]^=909522486;r.sigBytes=s.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})},"object"===a(t)?e.exports=t=s(n(0)):(o=[n(0)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t,n,i,o,r,s;return n=(t=e).lib,i=n.WordArray,o=n.Hasher,r=[],s=t.algo.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],s=n[2],a=n[3],l=n[4],u=0;u<80;u++){if(u<16)r[u]=0|e[t+u];else{var c=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=c<<1|c>>>31}var f=(i<<5|i>>>27)+l+r[u];f+=u<20?1518500249+(o&s|~o&a):u<40?1859775393+(o^s^a):u<60?(o&s|o&a|s&a)-1894007588:(o^s^a)-899497514,l=a,a=s,s=o<<30|o>>>2,o=i,i=f}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=o._createHelper(s),t.HmacSHA1=o._createHmacHelper(s),e.SHA1},"object"===a(t)?e.exports=t=s(n(0)):(o=[n(0)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return function(){var t=e,n=t.lib.Hasher,i=t.x64,o=i.Word,r=i.WordArray,s=t.algo;function a(){return o.create.apply(o,arguments)}var l=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=a()}();var c=s.SHA512=n.extend({_doReset:function(){this._hash=new r.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],s=n[3],a=n[4],c=n[5],f=n[6],p=n[7],d=i.high,h=i.low,g=o.high,y=o.low,m=r.high,v=r.low,b=s.high,S=s.low,x=a.high,_=a.low,k=c.high,I=c.low,T=f.high,w=f.low,C=p.high,L=p.low,D=d,A=h,N=g,E=y,B=m,R=v,F=b,j=S,P=x,O=_,M=k,U=I,q=T,H=w,V=C,W=L,z=0;z<80;z++){var G=u[z];if(z<16)var Q=G.high=0|e[t+2*z],X=G.low=0|e[t+2*z+1];else{var $=u[z-15],K=$.high,Y=$.low,J=(K>>>1|Y<<31)^(K>>>8|Y<<24)^K>>>7,Z=(Y>>>1|K<<31)^(Y>>>8|K<<24)^(Y>>>7|K<<25),ee=u[z-2],te=ee.high,ne=ee.low,ie=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,oe=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),re=u[z-7],se=re.high,ae=re.low,le=u[z-16],ue=le.high,ce=le.low;Q=(Q=(Q=J+se+((X=Z+ae)>>>0<Z>>>0?1:0))+ie+((X=X+oe)>>>0<oe>>>0?1:0))+ue+((X=X+ce)>>>0<ce>>>0?1:0);G.high=Q,G.low=X}var fe,pe=P&M^~P&q,de=O&U^~O&H,he=D&N^D&B^N&B,ge=A&E^A&R^E&R,ye=(D>>>28|A<<4)^(D<<30|A>>>2)^(D<<25|A>>>7),me=(A>>>28|D<<4)^(A<<30|D>>>2)^(A<<25|D>>>7),ve=(P>>>14|O<<18)^(P>>>18|O<<14)^(P<<23|O>>>9),be=(O>>>14|P<<18)^(O>>>18|P<<14)^(O<<23|P>>>9),Se=l[z],xe=Se.high,_e=Se.low,ke=V+ve+((fe=W+be)>>>0<W>>>0?1:0),Ie=me+ge;V=q,W=H,q=M,H=U,M=P,U=O,P=F+(ke=(ke=(ke=ke+pe+((fe=fe+de)>>>0<de>>>0?1:0))+xe+((fe=fe+_e)>>>0<_e>>>0?1:0))+Q+((fe=fe+X)>>>0<X>>>0?1:0))+((O=j+fe|0)>>>0<j>>>0?1:0)|0,F=B,j=R,B=N,R=E,N=D,E=A,D=ke+(ye+he+(Ie>>>0<me>>>0?1:0))+((A=fe+Ie|0)>>>0<fe>>>0?1:0)|0}h=i.low=h+A,i.high=d+D+(h>>>0<A>>>0?1:0),y=o.low=y+E,o.high=g+N+(y>>>0<E>>>0?1:0),v=r.low=v+R,r.high=m+B+(v>>>0<R>>>0?1:0),S=s.low=S+j,s.high=b+F+(S>>>0<j>>>0?1:0),_=a.low=_+O,a.high=x+P+(_>>>0<O>>>0?1:0),I=c.low=I+U,c.high=k+M+(I>>>0<U>>>0?1:0),w=f.low=w+H,f.high=T+q+(w>>>0<H>>>0?1:0),L=p.low=L+W,p.high=C+V+(L>>>0<W>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(i+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=n._createHelper(c),t.HmacSHA512=n._createHmacHelper(c)}(),e.SHA512},"object"===a(t)?e.exports=t=s(n(0),n(5)):(o=[n(0),n(5)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return function(t){var n=e,i=n.lib,o=i.WordArray,r=i.Hasher,s=n.algo,a=[],l=[];!function(){function e(e){for(var n=t.sqrt(e),i=2;i<=n;i++)if(!(e%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,o=0;o<64;)e(i)&&(o<8&&(a[o]=n(t.pow(i,.5))),l[o]=n(t.pow(i,1/3)),o++),i++}();var u=[],c=s.SHA256=r.extend({_doReset:function(){this._hash=new o.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],s=n[3],a=n[4],c=n[5],f=n[6],p=n[7],d=0;d<64;d++){if(d<16)u[d]=0|e[t+d];else{var h=u[d-15],g=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,y=u[d-2],m=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;u[d]=g+u[d-7]+m+u[d-16]}var v=i&o^i&r^o&r,b=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),S=p+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&f)+l[d]+u[d];p=f,f=c,c=a,a=s+S|0,s=r,r=o,o=i,i=S+(b+v)|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+r|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+c|0,n[6]=n[6]+f|0,n[7]=n[7]+p|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,o=8*e.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=t.floor(i/4294967296),n[15+(o+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=r._createHelper(c),n.HmacSHA256=r._createHmacHelper(c)}(Math),e.SHA256},"object"===a(t)?e.exports=t=s(n(0)):(o=[n(0)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return function(){var t=e,n=t.lib.StreamCipher,i=[],o=[],r=[],s=t.algo.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var o=0;o<4;o++)a.call(this);for(o=0;o<8;o++)i[o]^=n[o+4&7];if(t){var r=t.words,s=r[0],l=r[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),f=u>>>16|4294901760&c,p=c<<16|65535&u;i[0]^=u,i[1]^=f,i[2]^=c,i[3]^=p,i[4]^=u,i[5]^=f,i[6]^=c,i[7]^=p;for(o=0;o<4;o++)a.call(this)}},_doProcessBlock:function(e,t){var n=this._X;a.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var o=0;o<4;o++)i[o]=16711935&(i[o]<<8|i[o]>>>24)|4278255360&(i[o]<<24|i[o]>>>8),e[t+o]^=i[o]},blockSize:4,ivSize:2});function a(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0;for(n=0;n<8;n++){var i=e[n]+t[n],s=65535&i,a=i>>>16,l=((s*s>>>17)+s*a>>>15)+a*a,u=((4294901760&i)*i|0)+((65535&i)*i|0);r[n]=l^u}e[0]=r[0]+(r[7]<<16|r[7]>>>16)+(r[6]<<16|r[6]>>>16)|0,e[1]=r[1]+(r[0]<<8|r[0]>>>24)+r[7]|0,e[2]=r[2]+(r[1]<<16|r[1]>>>16)+(r[0]<<16|r[0]>>>16)|0,e[3]=r[3]+(r[2]<<8|r[2]>>>24)+r[1]|0,e[4]=r[4]+(r[3]<<16|r[3]>>>16)+(r[2]<<16|r[2]>>>16)|0,e[5]=r[5]+(r[4]<<8|r[4]>>>24)+r[3]|0,e[6]=r[6]+(r[5]<<16|r[5]>>>16)+(r[4]<<16|r[4]>>>16)|0,e[7]=r[7]+(r[6]<<8|r[6]>>>24)+r[5]|0}t.RabbitLegacy=n._createHelper(s)}(),e.RabbitLegacy},"object"===a(t)?e.exports=t=s(n(0),n(4),n(3),n(2),n(1)):(o=[n(0),n(4),n(3),n(2),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return function(){var t=e,n=t.lib.StreamCipher,i=[],o=[],r=[],s=t.algo.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(n=0;n<4;n++)a.call(this);for(n=0;n<8;n++)o[n]^=i[n+4&7];if(t){var r=t.words,s=r[0],l=r[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),f=u>>>16|4294901760&c,p=c<<16|65535&u;o[0]^=u,o[1]^=f,o[2]^=c,o[3]^=p,o[4]^=u,o[5]^=f,o[6]^=c,o[7]^=p;for(n=0;n<4;n++)a.call(this)}},_doProcessBlock:function(e,t){var n=this._X;a.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var o=0;o<4;o++)i[o]=16711935&(i[o]<<8|i[o]>>>24)|4278255360&(i[o]<<24|i[o]>>>8),e[t+o]^=i[o]},blockSize:4,ivSize:2});function a(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0;for(n=0;n<8;n++){var i=e[n]+t[n],s=65535&i,a=i>>>16,l=((s*s>>>17)+s*a>>>15)+a*a,u=((4294901760&i)*i|0)+((65535&i)*i|0);r[n]=l^u}e[0]=r[0]+(r[7]<<16|r[7]>>>16)+(r[6]<<16|r[6]>>>16)|0,e[1]=r[1]+(r[0]<<8|r[0]>>>24)+r[7]|0,e[2]=r[2]+(r[1]<<16|r[1]>>>16)+(r[0]<<16|r[0]>>>16)|0,e[3]=r[3]+(r[2]<<8|r[2]>>>24)+r[1]|0,e[4]=r[4]+(r[3]<<16|r[3]>>>16)+(r[2]<<16|r[2]>>>16)|0,e[5]=r[5]+(r[4]<<8|r[4]>>>24)+r[3]|0,e[6]=r[6]+(r[5]<<16|r[5]>>>16)+(r[4]<<16|r[4]>>>16)|0,e[7]=r[7]+(r[6]<<8|r[6]>>>24)+r[5]|0}t.Rabbit=n._createHelper(s)}(),e.Rabbit},"object"===a(t)?e.exports=t=s(n(0),n(4),n(3),n(2),n(1)):(o=[n(0),n(4),n(3),n(2),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return function(){var t=e,n=t.lib.StreamCipher,i=t.algo,o=i.RC4=n.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,i=this._S=[],o=0;o<256;o++)i[o]=o;o=0;for(var r=0;o<256;o++){var s=o%n,a=t[s>>>2]>>>24-s%4*8&255;r=(r+i[o]+a)%256;var l=i[o];i[o]=i[r],i[r]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=r.call(this)},keySize:8,ivSize:0});function r(){for(var e=this._S,t=this._i,n=this._j,i=0,o=0;o<4;o++){n=(n+e[t=(t+1)%256])%256;var r=e[t];e[t]=e[n],e[n]=r,i|=e[(e[t]+e[n])%256]<<24-8*o}return this._i=t,this._j=n,i}t.RC4=n._createHelper(o);var s=i.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)r.call(this)}});t.RC4Drop=n._createHelper(s)}(),e.RC4},"object"===a(t)?e.exports=t=s(n(0),n(4),n(3),n(2),n(1)):(o=[n(0),n(4),n(3),n(2),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return function(){var t=e,n=t.lib,i=n.WordArray,o=n.BlockCipher,r=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=r.DES=o.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var i=s[n]-1;t[n]=e[i>>>5]>>>31-i%32&1}for(var o=this._subKeys=[],r=0;r<16;r++){var u=o[r]=[],c=l[r];for(n=0;n<24;n++)u[n/6|0]|=t[(a[n]-1+c)%28]<<31-n%6,u[4+(n/6|0)]|=t[28+(a[n+24]-1+c)%28]<<31-n%6;u[0]=u[0]<<1|u[0]>>>31;for(n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var f=this._invSubKeys=[];for(n=0;n<16;n++)f[n]=o[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],p.call(this,4,252645135),p.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),p.call(this,1,1431655765);for(var i=0;i<16;i++){for(var o=n[i],r=this._lBlock,s=this._rBlock,a=0,l=0;l<8;l++)a|=u[l][((s^o[l])&c[l])>>>0];this._lBlock=s,this._rBlock=r^a}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,p.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function p(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function d(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}t.DES=o._createHelper(f);var h=r.TripleDES=o.extend({_doReset:function(){var e=this._key.words;this._des1=f.createEncryptor(i.create(e.slice(0,2))),this._des2=f.createEncryptor(i.create(e.slice(2,4))),this._des3=f.createEncryptor(i.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=o._createHelper(h)}(),e.TripleDES},"object"===a(t)?e.exports=t=s(n(0),n(4),n(3),n(2),n(1)):(o=[n(0),n(4),n(3),n(2),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return function(){var t=e,n=t.lib.BlockCipher,i=t.algo,o=[],r=[],s=[],a=[],l=[],u=[],c=[],f=[],p=[],d=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,i=0;for(t=0;t<256;t++){var h=i^i<<1^i<<2^i<<3^i<<4;h=h>>>8^255&h^99,o[n]=h,r[h]=n;var g=e[n],y=e[g],m=e[y],v=257*e[h]^16843008*h;s[n]=v<<24|v>>>8,a[n]=v<<16|v>>>16,l[n]=v<<8|v>>>24,u[n]=v;v=16843009*m^65537*y^257*g^16843008*n;c[h]=v<<24|v>>>8,f[h]=v<<16|v>>>16,p[h]=v<<8|v>>>24,d[h]=v,n?(n=g^e[e[e[m^g]]],i^=e[e[i]]):n=i=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],g=i.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,i=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],s=0;s<i;s++)if(s<n)r[s]=t[s];else{var a=r[s-1];s%n?n>6&&s%n==4&&(a=o[a>>>24]<<24|o[a>>>16&255]<<16|o[a>>>8&255]<<8|o[255&a]):(a=o[(a=a<<8|a>>>24)>>>24]<<24|o[a>>>16&255]<<16|o[a>>>8&255]<<8|o[255&a],a^=h[s/n|0]<<24),r[s]=r[s-n]^a}for(var l=this._invKeySchedule=[],u=0;u<i;u++){s=i-u;if(u%4)a=r[s];else a=r[s-4];l[u]=u<4||s<=4?a:c[o[a>>>24]]^f[o[a>>>16&255]]^p[o[a>>>8&255]]^d[o[255&a]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,l,u,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,f,p,d,r);n=e[t+1];e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,o,r,s,a){for(var l=this._nRounds,u=e[t]^n[0],c=e[t+1]^n[1],f=e[t+2]^n[2],p=e[t+3]^n[3],d=4,h=1;h<l;h++){var g=i[u>>>24]^o[c>>>16&255]^r[f>>>8&255]^s[255&p]^n[d++],y=i[c>>>24]^o[f>>>16&255]^r[p>>>8&255]^s[255&u]^n[d++],m=i[f>>>24]^o[p>>>16&255]^r[u>>>8&255]^s[255&c]^n[d++],v=i[p>>>24]^o[u>>>16&255]^r[c>>>8&255]^s[255&f]^n[d++];u=g,c=y,f=m,p=v}g=(a[u>>>24]<<24|a[c>>>16&255]<<16|a[f>>>8&255]<<8|a[255&p])^n[d++],y=(a[c>>>24]<<24|a[f>>>16&255]<<16|a[p>>>8&255]<<8|a[255&u])^n[d++],m=(a[f>>>24]<<24|a[p>>>16&255]<<16|a[u>>>8&255]<<8|a[255&c])^n[d++],v=(a[p>>>24]<<24|a[u>>>16&255]<<16|a[c>>>8&255]<<8|a[255&f])^n[d++];e[t]=g,e[t+1]=y,e[t+2]=m,e[t+3]=v},keySize:8});t.AES=n._createHelper(g)}(),e.AES},"object"===a(t)?e.exports=t=s(n(0),n(4),n(3),n(2),n(1)):(o=[n(0),n(4),n(3),n(2),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t,n,i;return n=(t=e).lib.CipherParams,i=t.enc.Hex,t.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return n.create({ciphertext:t})}},e.format.Hex},"object"===a(t)?e.exports=t=s(n(0),n(1)):(o=[n(0),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding},"object"===a(t)?e.exports=t=s(n(0),n(1)):(o=[n(0),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){for(var t=e.words,n=e.sigBytes-1;!(t[n>>>2]>>>24-n%4*8&255);)n--;e.sigBytes=n+1}},e.pad.ZeroPadding},"object"===a(t)?e.exports=t=s(n(0),n(1)):(o=[n(0),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971},"object"===a(t)?e.exports=t=s(n(0),n(1)):(o=[n(0),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.pad.Iso10126={pad:function(t,n){var i=4*n,o=i-t.sigBytes%i;t.concat(e.lib.WordArray.random(o-1)).concat(e.lib.WordArray.create([o<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126},"object"===a(t)?e.exports=t=s(n(0),n(1)):(o=[n(0),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,i=4*t,o=i-n%i,r=n+o-1;e.clamp(),e.words[r>>>2]|=o<<24-r%4*8,e.sigBytes+=o},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923},"object"===a(t)?e.exports=t=s(n(0),n(1)):(o=[n(0),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t;return e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),e.mode.ECB},"object"===a(t)?e.exports=t=s(n(0),n(1)):(o=[n(0),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t,n;return e.mode.OFB=(t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,r=this._keystream;o&&(r=this._keystream=o.slice(0),this._iv=void 0),n.encryptBlock(r,0);for(var s=0;s<i;s++)e[t+s]^=r[s]}}),t.Decryptor=n,t),e.mode.OFB},"object"===a(t)?e.exports=t=s(n(0),n(1)):(o=[n(0),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){
/** @preserve
  * Counter block mode compatible with  Dr Brian Gladman fileenc.c
  * derived from CryptoJS.mode.CTR
  * Jan Hruby jhruby.web@gmail.com
  */
return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,i=255&e;255===t?(t=0,255===n?(n=0,255===i?i=0:++i):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=i}else e+=1<<24;return e}var i=t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,o=i.blockSize,r=this._iv,s=this._counter;r&&(s=this._counter=r.slice(0),this._iv=void 0),function(e){0===(e[0]=n(e[0]))&&(e[1]=n(e[1]))}(s);var a=s.slice(0);i.encryptBlock(a,0);for(var l=0;l<o;l++)e[t+l]^=a[l]}});return t.Decryptor=i,t}(),e.mode.CTRGladman},"object"===a(t)?e.exports=t=s(n(0),n(1)):(o=[n(0),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t,n;return e.mode.CTR=(t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,r=this._counter;o&&(r=this._counter=o.slice(0),this._iv=void 0);var s=r.slice(0);n.encryptBlock(s,0),r[i-1]=r[i-1]+1|0;for(var a=0;a<i;a++)e[t+a]^=s[a]}}),t.Decryptor=n,t),e.mode.CTR},"object"===a(t)?e.exports=t=s(n(0),n(1)):(o=[n(0),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function n(e,t,n,i){var o=this._iv;if(o){var r=o.slice(0);this._iv=void 0}else r=this._prevBlock;i.encryptBlock(r,0);for(var s=0;s<n;s++)e[t+s]^=r[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,o=i.blockSize;n.call(this,e,t,o,i),this._prevBlock=e.slice(t,t+o)}}),t.Decryptor=t.extend({processBlock:function(e,t){var i=this._cipher,o=i.blockSize,r=e.slice(t,t+o);n.call(this,e,t,o,i),this._prevBlock=r}}),t}(),e.mode.CFB},"object"===a(t)?e.exports=t=s(n(0),n(1)):(o=[n(0),n(1)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t,n,i,o,r,s,a,l;return n=(t=e).lib,i=n.Base,o=n.WordArray,r=t.algo,s=r.SHA1,a=r.HMAC,l=r.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=a.create(n.hasher,e),r=o.create(),s=o.create([1]),l=r.words,u=s.words,c=n.keySize,f=n.iterations;l.length<c;){var p=i.update(t).finalize(s);i.reset();for(var d=p.words,h=d.length,g=p,y=1;y<f;y++){g=i.finalize(g),i.reset();for(var m=g.words,v=0;v<h;v++)d[v]^=m[v]}r.concat(p),u[0]++}return r.sigBytes=4*c,r}}),t.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)},e.PBKDF2},"object"===a(t)?e.exports=t=s(n(0),n(7),n(6)):(o=[n(0),n(7),n(6)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){
/** @preserve
 (c) 2012 by Cédric Mesnil. All rights reserved.
 	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
 	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
     - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
 	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
return function(t){var n=e,i=n.lib,o=i.WordArray,r=i.Hasher,s=n.algo,a=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),d=s.RIPEMD160=r.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,o=e[i];e[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var r,s,d,S,x,_,k,I,T,w,C,L=this._hash.words,D=f.words,A=p.words,N=a.words,E=l.words,B=u.words,R=c.words;_=r=L[0],k=s=L[1],I=d=L[2],T=S=L[3],w=x=L[4];for(n=0;n<80;n+=1)C=r+e[t+N[n]]|0,C+=n<16?h(s,d,S)+D[0]:n<32?g(s,d,S)+D[1]:n<48?y(s,d,S)+D[2]:n<64?m(s,d,S)+D[3]:v(s,d,S)+D[4],C=(C=b(C|=0,B[n]))+x|0,r=x,x=S,S=b(d,10),d=s,s=C,C=_+e[t+E[n]]|0,C+=n<16?v(k,I,T)+A[0]:n<32?m(k,I,T)+A[1]:n<48?y(k,I,T)+A[2]:n<64?g(k,I,T)+A[3]:h(k,I,T)+A[4],C=(C=b(C|=0,R[n]))+w|0,_=w,w=T,T=b(I,10),I=k,k=C;C=L[1]+d+T|0,L[1]=L[2]+S+w|0,L[2]=L[3]+x+_|0,L[3]=L[4]+r+k|0,L[4]=L[0]+s+I|0,L[0]=C},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var o=this._hash,r=o.words,s=0;s<5;s++){var a=r[s];r[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return o},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t,n){return e^t^n}function g(e,t,n){return e&t|~e&n}function y(e,t,n){return(e|~t)^n}function m(e,t,n){return e&n|t&~n}function v(e,t,n){return e^(t|~n)}function b(e,t){return e<<t|e>>>32-t}n.RIPEMD160=r._createHelper(d),n.HmacRIPEMD160=r._createHmacHelper(d)}(Math),e.RIPEMD160},"object"===a(t)?e.exports=t=s(n(0)):(o=[n(0)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return function(t){var n=e,i=n.lib,o=i.WordArray,r=i.Hasher,s=n.x64.Word,a=n.algo,l=[],u=[],c=[];!function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var i=(2*e+3*t)%5;e=t%5,t=i}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,r=0;r<24;r++){for(var a=0,f=0,p=0;p<7;p++){if(1&o){var d=(1<<p)-1;d<32?f^=1<<d:a^=1<<d-32}128&o?o=o<<1^113:o<<=1}c[r]=s.create(a,f)}}();var f=[];!function(){for(var e=0;e<25;e++)f[e]=s.create()}();var p=a.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,i=this.blockSize/2,o=0;o<i;o++){var r=e[t+2*o],s=e[t+2*o+1];r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(L=n[o]).high^=s,L.low^=r}for(var a=0;a<24;a++){for(var p=0;p<5;p++){for(var d=0,h=0,g=0;g<5;g++){d^=(L=n[p+5*g]).high,h^=L.low}var y=f[p];y.high=d,y.low=h}for(p=0;p<5;p++){var m=f[(p+4)%5],v=f[(p+1)%5],b=v.high,S=v.low;for(d=m.high^(b<<1|S>>>31),h=m.low^(S<<1|b>>>31),g=0;g<5;g++){(L=n[p+5*g]).high^=d,L.low^=h}}for(var x=1;x<25;x++){var _=(L=n[x]).high,k=L.low,I=l[x];if(I<32)d=_<<I|k>>>32-I,h=k<<I|_>>>32-I;else d=k<<I-32|_>>>64-I,h=_<<I-32|k>>>64-I;var T=f[u[x]];T.high=d,T.low=h}var w=f[0],C=n[0];w.high=C.high,w.low=C.low;for(p=0;p<5;p++)for(g=0;g<5;g++){var L=n[x=p+5*g],D=f[x],A=f[(p+1)%5+5*g],N=f[(p+2)%5+5*g];L.high=D.high^~A.high&N.high,L.low=D.low^~A.low&N.low}L=n[0];var E=c[a];L.high^=E.high,L.low^=E.low}},_doFinalize:function(){var e=this._data,n=e.words,i=(this._nDataBytes,8*e.sigBytes),r=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(t.ceil((i+1)/r)*r>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,l=a/8,u=[],c=0;c<l;c++){var f=s[c],p=f.high,d=f.low;p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),u.push(d),u.push(p)}return new o.init(u,a)},clone:function(){for(var e=r.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=r._createHelper(p),n.HmacSHA3=r._createHmacHelper(p)}(Math),e.SHA3},"object"===a(t)?e.exports=t=s(n(0),n(5)):(o=[n(0),n(5)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t,n,i,o,r,s,a;return n=(t=e).x64,i=n.Word,o=n.WordArray,r=t.algo,s=r.SHA512,a=r.SHA384=s.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}}),t.SHA384=s._createHelper(a),t.HmacSHA384=s._createHmacHelper(a),e.SHA384},"object"===a(t)?e.exports=t=s(n(0),n(5),n(8)):(o=[n(0),n(5),n(8)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t,n,i,o,r;return n=(t=e).lib.WordArray,i=t.algo,o=i.SHA256,r=i.SHA224=o.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}}),t.SHA224=o._createHelper(r),t.HmacSHA224=o._createHmacHelper(r),e.SHA224},"object"===a(t)?e.exports=t=s(n(0),n(9)):(o=[n(0),n(9)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return function(){var t=e,n=t.lib.WordArray,i=t.enc;i.Utf16=i.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o+=2){var r=t[o>>>2]>>>16-o%4*8&65535;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var t=e.length,i=[],o=0;o<t;o++)i[o>>>1]|=e.charCodeAt(o)<<16-o%2*16;return n.create(i,2*t)}};function o(e){return e<<8&4278255360|e>>>8&16711935}i.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r+=2){var s=o(t[r>>>2]>>>16-r%4*8&65535);i.push(String.fromCharCode(s))}return i.join("")},parse:function(e){for(var t=e.length,i=[],r=0;r<t;r++)i[r>>>1]|=o(e.charCodeAt(r)<<16-r%2*16);return n.create(i,2*t)}}}(),e.enc.Utf16},"object"===a(t)?e.exports=t=s(n(0)):(o=[n(0)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,i=[],o=0;o<t;o++)i[o>>>2]|=e[o]<<24-o%4*8;n.call(this,i,t)}else n.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray},"object"===a(t)?e.exports=t=s(n(0)):(o=[n(0)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeOf=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},t.log=function(){for(var e in console.log("------- Start"),arguments)console.log(arguments[e]);console.log("------- End")}},function(e,t,n){"use strict";var i,o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e},"object"===a(t)?e.exports=t=s(n(0),n(5),n(32),n(31),n(4),n(3),n(7),n(9),n(30),n(8),n(29),n(28),n(27),n(6),n(26),n(2),n(1),n(25),n(24),n(23),n(22),n(21),n(20),n(19),n(18),n(17),n(16),n(15),n(14),n(13),n(12),n(11),n(10)):(o=[n(0),n(5),n(32),n(31),n(4),n(3),n(7),n(9),n(30),n(8),n(29),n(28),n(27),n(6),n(26),n(2),n(1),n(25),n(24),n(23),n(22),n(21),n(20),n(19),n(18),n(17),n(16),n(15),n(14),n(13),n(12),n(11),n(10)],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";(function(e){var n,i,o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
i="undefined"!=typeof window?window:void 0,o=function(i,o){var s=[],a=i.document,l=Object.getPrototypeOf,u=s.slice,c=s.concat,f=s.push,p=s.indexOf,d={},h=d.toString,g=d.hasOwnProperty,y=g.toString,m=y.call(Object),v={},b=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},S=function(e){return null!=e&&e===e.window},x={type:!0,src:!0,noModule:!0};function _(e,t,n){var i,o=(t=t||a).createElement("script");if(o.text=e,n)for(i in x)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function k(e){return null==e?e+"":"object"===(void 0===e?"undefined":r(e))||"function"==typeof e?d[h.call(e)]||"object":void 0===e?"undefined":r(e)}var I=function e(t,n){return new e.fn.init(t,n)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function w(e){var t=!!e&&"length"in e&&e.length,n=k(e);return!b(e)&&!S(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}I.fn=I.prototype={jquery:"3.3.1",constructor:I,length:0,toArray:function(){return u.call(this)},get:function(e){return null==e?u.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=I.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return I.each(this,e)},map:function(e){return this.pushStack(I.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:f,sort:s.sort,splice:s.splice},I.extend=I.fn.extend=function(){var e,t,n,i,o,s,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[l]||{},l++),"object"===(void 0===a?"undefined":r(a))||b(a)||(a={}),l===u&&(a=this,l--);l<u;l++)if(null!=(e=arguments[l]))for(t in e)n=a[t],a!==(i=e[t])&&(c&&i&&(I.isPlainObject(i)||(o=Array.isArray(i)))?(o?(o=!1,s=n&&Array.isArray(n)?n:[]):s=n&&I.isPlainObject(n)?n:{},a[t]=I.extend(c,s,i)):void 0!==i&&(a[t]=i));return a},I.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==h.call(e))&&(!(t=l(e))||"function"==typeof(n=g.call(t,"constructor")&&t.constructor)&&y.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){_(e)},each:function(e,t){var n,i=0;if(w(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?I.merge(n,"string"==typeof e?[e]:e):f.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:p.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,s=!n;o<r;o++)!t(e[o],o)!==s&&i.push(e[o]);return i},map:function(e,t,n){var i,o,r=0,s=[];if(w(e))for(i=e.length;r<i;r++)null!=(o=t(e[r],r,n))&&s.push(o);else for(r in e)null!=(o=t(e[r],r,n))&&s.push(o);return c.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(I.fn[Symbol.iterator]=s[Symbol.iterator]),I.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()});var C=
/*!
  * Sizzle CSS Selector Engine v2.3.3
  * https://sizzlejs.com/
  *
  * Copyright jQuery Foundation and other contributors
  * Released under the MIT license
  * http://jquery.org/license
  *
  * Date: 2016-08-08
  */
function(e){var t,n,i,o,r,s,a,l,u,c,f,p,d,h,g,y,m,v,b,S="sizzle"+1*new Date,x=e.document,_=0,k=0,I=se(),T=se(),w=se(),C=function(e,t){return e===t&&(f=!0),0},L={}.hasOwnProperty,D=[],A=D.pop,N=D.push,E=D.push,B=D.slice,R=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",P="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",O="\\["+j+"*("+P+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+j+"*\\]",M=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",U=new RegExp(j+"+","g"),q=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),H=new RegExp("^"+j+"*,"+j+"*"),V=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),W=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),z=new RegExp(M),G=new RegExp("^"+P+"$"),Q={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+M),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){p()},oe=ve(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{E.apply(D=B.call(x.childNodes),x.childNodes),D[x.childNodes.length].nodeType}catch(e){E={apply:D.length?function(e,t){N.apply(e,B.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function re(e,t,i,o){var r,a,u,c,f,h,m,v=t&&t.ownerDocument,_=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return i;if(!o&&((t?t.ownerDocument||t:x)!==d&&p(t),t=t||d,g)){if(11!==_&&(f=Y.exec(e)))if(r=f[1]){if(9===_){if(!(u=t.getElementById(r)))return i;if(u.id===r)return i.push(u),i}else if(v&&(u=v.getElementById(r))&&b(t,u)&&u.id===r)return i.push(u),i}else{if(f[2])return E.apply(i,t.getElementsByTagName(e)),i;if((r=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return E.apply(i,t.getElementsByClassName(r)),i}if(n.qsa&&!w[e+" "]&&(!y||!y.test(e))){if(1!==_)v=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=S),a=(h=s(e)).length;a--;)h[a]="#"+c+" "+me(h[a]);m=h.join(","),v=J.test(e)&&ge(t.parentNode)||t}if(m)try{return E.apply(i,v.querySelectorAll(m)),i}catch(e){}finally{c===S&&t.removeAttribute("id")}}}return l(e.replace(q,"$1"),t,i,o)}function se(){var e=[];return function t(n,o){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ae(e){return e[S]=!0,e}function le(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),o=n.length;o--;)i.attrHandle[n[o]]=t}function ce(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return ae(function(t){return t=+t,ae(function(n,i){for(var o,r=e([],n.length,t),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=re.support={},r=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=re.setDocument=function(e){var t,o,s=e?e.ownerDocument||e:x;return s!==d&&9===s.nodeType&&s.documentElement?(h=(d=s).documentElement,g=!r(d),x!==d&&(o=d.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(d.getElementsByClassName),n.getById=le(function(e){return h.appendChild(e).id=S,!d.getElementsByName||!d.getElementsByName(S).length}),n.getById?(i.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,i,o,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(o=t.getElementsByName(e),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},m=[],y=[],(n.qsa=K.test(d.querySelectorAll))&&(le(function(e){h.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+j+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+S+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||y.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+j+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(n.matchesSelector=K.test(v=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&le(function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),m.push("!=",M)}),y=y.length&&new RegExp(y.join("|")),m=m.length&&new RegExp(m.join("|")),t=K.test(h.compareDocumentPosition),b=t||K.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return f=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===d||e.ownerDocument===x&&b(x,e)?-1:t===d||t.ownerDocument===x&&b(x,t)?1:c?R(c,e)-R(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,s=[e],a=[t];if(!o||!r)return e===d?-1:t===d?1:o?-1:r?1:c?R(c,e)-R(c,t):0;if(o===r)return ce(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ce(s[i],a[i]):s[i]===x?-1:a[i]===x?1:0},d):d},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(W,"='$1']"),n.matchesSelector&&g&&!w[t+" "]&&(!m||!m.test(t))&&(!y||!y.test(t)))try{var i=v.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return re(t,d,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),b(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var o=i.attrHandle[t.toLowerCase()],r=o&&L.call(i.attrHandle,t.toLowerCase())?o(e,t,!g):void 0;return void 0!==r?r:n.attributes||!g?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},re.escape=function(e){return(e+"").replace(te,ne)},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,i=[],o=0,r=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(C),f){for(;t=e[r++];)t===e[r]&&(o=i.push(r));for(;o--;)e.splice(i[o],1)}return c=null,e},o=re.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(i=re.selectors={cacheLength:50,createPseudo:ae,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=I[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&I(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var o=re.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(U," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,p,d,h,g=r!==s?"nextSibling":"previousSibling",y=t.parentNode,m=a&&t.nodeName.toLowerCase(),v=!l&&!a,b=!1;if(y){if(r){for(;g;){for(p=t;p=p[g];)if(a?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?y.firstChild:y.lastChild],s&&v){for(b=(d=(u=(c=(f=(p=y)[S]||(p[S]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===_&&u[1])&&u[2],p=d&&y.childNodes[d];p=++d&&p&&p[g]||(b=d=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){c[e]=[_,d,b];break}}else if(v&&(b=d=(u=(c=(f=(p=t)[S]||(p[S]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===_&&u[1]),!1===b)for(;(p=++d&&p&&p[g]||(b=d=0)||h.pop())&&((a?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++b||(v&&((c=(f=p[S]||(p[S]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[_,b]),p!==t)););return(b-=o)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,t){var n,o=i.pseudos[e]||i.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return o[S]?o(t):o.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,n){for(var i,r=o(e,t),s=r.length;s--;)e[i=R(e,r[s])]=!(n[i]=r[s])}):function(e){return o(e,0,n)}):o}},pseudos:{not:ae(function(e){var t=[],n=[],i=a(e.replace(q,"$1"));return i[S]?ae(function(e,t,n,o){for(var r,s=i(e,null,o,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,o,r){return t[0]=e,i(t,null,r,n),t[0]=null,!n.pop()}}),has:ae(function(e){return function(t){return re(e,t).length>0}}),contains:ae(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ae(function(e){return G.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return $.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:he(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function ye(){}function me(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ve(e,t,n){var i=t.dir,o=t.next,r=o||i,s=n&&"parentNode"===r,a=k++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,o);return!1}:function(t,n,l){var u,c,f,p=[_,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(c=(f=t[S]||(t[S]={}))[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[r])&&u[0]===_&&u[1]===a)return p[2]=u[2];if(c[r]=p,p[2]=e(t,n,l))return!0}return!1}}function be(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function Se(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(r=e[a])&&(n&&!n(r,i,o)||(s.push(r),u&&t.push(a)));return s}function xe(e,t,n,i,o,r){return i&&!i[S]&&(i=xe(i)),o&&!o[S]&&(o=xe(o,r)),ae(function(r,s,a,l){var u,c,f,p=[],d=[],h=s.length,g=r||function(e,t,n){for(var i=0,o=t.length;i<o;i++)re(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),y=!e||!r&&t?g:Se(g,p,e,a,l),m=n?o||(r?e:h||i)?[]:s:y;if(n&&n(y,m,a,l),i)for(u=Se(m,d),i(u,[],a,l),c=u.length;c--;)(f=u[c])&&(m[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(u=[],c=m.length;c--;)(f=m[c])&&u.push(y[c]=f);o(null,m=[],u,l)}for(c=m.length;c--;)(f=m[c])&&(u=o?R(r,f):p[c])>-1&&(r[u]=!(s[u]=f))}}else m=Se(m===s?m.splice(h,m.length):m),o?o(null,s,m,l):E.apply(s,m)})}function _e(e){for(var t,n,o,r=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,c=ve(function(e){return e===t},a,!0),f=ve(function(e){return R(t,e)>-1},a,!0),p=[function(e,n,i){var o=!s&&(i||n!==u)||((t=n).nodeType?c(e,n,i):f(e,n,i));return t=null,o}];l<r;l++)if(n=i.relative[e[l].type])p=[ve(be(p),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[S]){for(o=++l;o<r&&!i.relative[e[o].type];o++);return xe(l>1&&be(p),l>1&&me(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(q,"$1"),n,l<o&&_e(e.slice(l,o)),o<r&&_e(e=e.slice(o)),o<r&&me(e))}p.push(n)}return be(p)}return ye.prototype=i.filters=i.pseudos,i.setFilters=new ye,s=re.tokenize=function(e,t){var n,o,r,s,a,l,u,c=T[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=i.preFilter;a;){for(s in n&&!(o=H.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),n=!1,(o=V.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(q," ")}),a=a.slice(n.length)),i.filter)!(o=Q[s].exec(a))||u[s]&&!(o=u[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return t?a.length:a?re.error(e):T(e,l).slice(0)},a=re.compile=function(e,t){var n,o=[],r=[],a=w[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=_e(t[n]))[S]?o.push(a):r.push(a);(a=w(e,function(e,t){var n=t.length>0,o=e.length>0,r=function(r,s,a,l,c){var f,h,y,m=0,v="0",b=r&&[],S=[],x=u,k=r||o&&i.find.TAG("*",c),I=_+=null==x?1:Math.random()||.1,T=k.length;for(c&&(u=s===d||s||c);v!==T&&null!=(f=k[v]);v++){if(o&&f){for(h=0,s||f.ownerDocument===d||(p(f),a=!g);y=e[h++];)if(y(f,s||d,a)){l.push(f);break}c&&(_=I)}n&&((f=!y&&f)&&m--,r&&b.push(f))}if(m+=v,n&&v!==m){for(h=0;y=t[h++];)y(b,S,s,a);if(r){if(m>0)for(;v--;)b[v]||S[v]||(S[v]=A.call(l));S=Se(S)}E.apply(l,S),c&&!r&&S.length>0&&m+t.length>1&&re.uniqueSort(l)}return c&&(_=I,u=x),b};return n?ae(r):r}(r,o))).selector=e}return a},l=re.select=function(e,t,n,o){var r,l,u,c,f,p="function"==typeof e&&e,d=!o&&s(e=p.selector||e);if(n=n||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&g&&i.relative[l[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(r=Q.needsContext.test(e)?0:l.length;r--&&(u=l[r],!i.relative[c=u.type]);)if((f=i.find[c])&&(o=f(u.matches[0].replace(Z,ee),J.test(l[0].type)&&ge(t.parentNode)||t))){if(l.splice(r,1),!(e=o.length&&me(l)))return E.apply(n,o),n;break}}return(p||a(e,d))(o,t,!g,n,!t||J.test(e)&&ge(t.parentNode)||t),n},n.sortStable=S.split("").sort(C).join("")===S,n.detectDuplicates=!!f,p(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ue(F,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),re}(i);I.find=C,I.expr=C.selectors,I.expr[":"]=I.expr.pseudos,I.uniqueSort=I.unique=C.uniqueSort,I.text=C.getText,I.isXMLDoc=C.isXML,I.contains=C.contains,I.escapeSelector=C.escape;var L=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&I(e).is(n))break;i.push(e)}return i},D=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=I.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function B(e,t,n){return b(t)?I.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?I.grep(e,function(e){return e===t!==n}):"string"!=typeof t?I.grep(e,function(e){return p.call(t,e)>-1!==n}):I.filter(t,e,n)}I.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?I.find.matchesSelector(i,e)?[i]:[]:I.find.matches(e,I.grep(t,function(e){return 1===e.nodeType}))},I.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(I(e).filter(function(){for(t=0;t<i;t++)if(I.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)I.find(e,o[t],n);return i>1?I.uniqueSort(n):n},filter:function(e){return this.pushStack(B(this,e||[],!1))},not:function(e){return this.pushStack(B(this,e||[],!0))},is:function(e){return!!B(this,"string"==typeof e&&A.test(e)?I(e):e||[],!1).length}});var R,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(I.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||R,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:F.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof I?t[0]:t,I.merge(this,I.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),E.test(i[1])&&I.isPlainObject(t))for(i in t)b(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=a.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==n.ready?n.ready(e):e(I):I.makeArray(e,this)}).prototype=I.fn,R=I(a);var j=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}I.fn.extend({has:function(e){var t=I(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(I.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,o=this.length,r=[],s="string"!=typeof e&&I(e);if(!A.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&I.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?I.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?p.call(I(e),this[0]):p.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(I.uniqueSort(I.merge(this.get(),I(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),I.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return L(e,"parentNode")},parentsUntil:function(e,t,n){return L(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return L(e,"nextSibling")},prevAll:function(e){return L(e,"previousSibling")},nextUntil:function(e,t,n){return L(e,"nextSibling",n)},prevUntil:function(e,t,n){return L(e,"previousSibling",n)},siblings:function(e){return D((e.parentNode||{}).firstChild,e)},children:function(e){return D(e.firstChild)},contents:function(e){return N(e,"iframe")?e.contentDocument:(N(e,"template")&&(e=e.content||e),I.merge([],e.childNodes))}},function(e,t){I.fn[e]=function(n,i){var o=I.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=I.filter(i,o)),this.length>1&&(P[e]||I.uniqueSort(o),j.test(e)&&o.reverse()),this.pushStack(o)}});var M=/[^\x20\t\r\n\f]+/g;function U(e){return e}function q(e){throw e}function H(e,t,n,i){var o;try{e&&b(o=e.promise)?o.call(e).done(t).fail(n):e&&b(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}I.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return I.each(e.match(M)||[],function(e,n){t[n]=!0}),t}(e):I.extend({},e);var t,n,i,o,r=[],s=[],a=-1,l=function(){for(o=o||e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<r.length;)!1===r[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=r.length,n=!1);e.memory||(n=!1),t=!1,o&&(r=n?[]:"")},u={add:function(){return r&&(n&&!t&&(a=r.length-1,s.push(n)),function t(n){I.each(n,function(n,i){b(i)?e.unique&&u.has(i)||r.push(i):i&&i.length&&"string"!==k(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return I.each(arguments,function(e,t){for(var n;(n=I.inArray(t,r,n))>-1;)r.splice(n,1),n<=a&&a--}),this},has:function(e){return e?I.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=s=[],n||t||(r=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},I.extend({Deferred:function(e){var t=[["notify","progress",I.Callbacks("memory"),I.Callbacks("memory"),2],["resolve","done",I.Callbacks("once memory"),I.Callbacks("once memory"),0,"resolved"],["reject","fail",I.Callbacks("once memory"),I.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return I.Deferred(function(n){I.each(t,function(t,i){var o=b(e[i[4]])&&e[i[4]];s[i[1]](function(){var e=o&&o.apply(this,arguments);e&&b(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,n,o){var s=0;function a(e,t,n,o){return function(){var l=this,u=arguments,c=function(){var i,c;if(!(e<s)){if((i=n.apply(l,u))===t.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"===(void 0===i?"undefined":r(i))||"function"==typeof i)&&i.then,b(c)?o?c.call(i,a(s,t,U,o),a(s,t,q,o)):(s++,c.call(i,a(s,t,U,o),a(s,t,q,o),a(s,t,U,t.notifyWith))):(n!==U&&(l=void 0,u=[i]),(o||t.resolveWith)(l,u))}},f=o?c:function(){try{c()}catch(i){I.Deferred.exceptionHook&&I.Deferred.exceptionHook(i,f.stackTrace),e+1>=s&&(n!==q&&(l=void 0,u=[i]),t.rejectWith(l,u))}};e?f():(I.Deferred.getStackHook&&(f.stackTrace=I.Deferred.getStackHook()),i.setTimeout(f))}}return I.Deferred(function(i){t[0][3].add(a(0,i,b(o)?o:U,i.notifyWith)),t[1][3].add(a(0,i,b(e)?e:U)),t[2][3].add(a(0,i,b(n)?n:q))}).promise()},promise:function(e){return null!=e?I.extend(e,o):o}},s={};return I.each(t,function(e,i){var r=i[2],a=i[5];o[i[1]]=r.add,a&&r.add(function(){n=a},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),r.add(i[3].fire),s[i[0]]=function(){return s[i[0]+"With"](this===s?void 0:this,arguments),this},s[i[0]+"With"]=r.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(e){var t=arguments.length,n=t,i=Array(n),o=u.call(arguments),r=I.Deferred(),s=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?u.call(arguments):n,--t||r.resolveWith(i,o)}};if(t<=1&&(H(e,r.done(s(n)).resolve,r.reject,!t),"pending"===r.state()||b(o[n]&&o[n].then)))return r.then();for(;n--;)H(o[n],s(n),r.reject);return r.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;I.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&V.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},I.readyException=function(e){i.setTimeout(function(){throw e})};var W=I.Deferred();function z(){a.removeEventListener("DOMContentLoaded",z),i.removeEventListener("load",z),I.ready()}I.fn.ready=function(e){return W.then(e).catch(function(e){I.readyException(e)}),this},I.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--I.readyWait:I.isReady)||(I.isReady=!0,!0!==e&&--I.readyWait>0||W.resolveWith(a,[I]))}}),I.ready.then=W.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?i.setTimeout(I.ready):(a.addEventListener("DOMContentLoaded",z),i.addEventListener("load",z));var G=function e(t,n,i,o,r,s,a){var l=0,u=t.length,c=null==i;if("object"===k(i))for(l in r=!0,i)e(t,n,l,i[l],!0,s,a);else if(void 0!==o&&(r=!0,b(o)||(a=!0),c&&(a?(n.call(t,o),n=null):(c=n,n=function(e,t,n){return c.call(I(e),n)})),n))for(;l<u;l++)n(t[l],i,a?o:o.call(t[l],l,n(t[l],i)));return r?t:c?n.call(t):u?n(t[0],i):s},Q=/^-ms-/,X=/-([a-z])/g;function $(e,t){return t.toUpperCase()}function K(e){return e.replace(Q,"ms-").replace(X,$)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=I.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[K(t)]=n;else for(i in t)o[K(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][K(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(K):(t=K(t))in i?[t]:t.match(M)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||I.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!I.isEmptyObject(t)}};var Z=new J,ee=new J,te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ne=/[A-Z]/g;function ie(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(ne,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:te.test(e)?JSON.parse(e):e)}(n)}catch(e){}ee.set(e,t,n)}else n=void 0;return n}I.extend({hasData:function(e){return ee.hasData(e)||Z.hasData(e)},data:function(e,t,n){return ee.access(e,t,n)},removeData:function(e,t){ee.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),I.fn.extend({data:function(e,t){var n,i,o,s=this[0],a=s&&s.attributes;if(void 0===e){if(this.length&&(o=ee.get(s),1===s.nodeType&&!Z.get(s,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=K(i.slice(5)),ie(s,i,o[i]));Z.set(s,"hasDataAttrs",!0)}return o}return"object"===(void 0===e?"undefined":r(e))?this.each(function(){ee.set(this,e)}):G(this,function(t){var n;if(s&&void 0===t)return void 0!==(n=ee.get(s,e))?n:void 0!==(n=ie(s,e))?n:void 0;this.each(function(){ee.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ee.remove(this,e)})}}),I.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Z.get(e,t),n&&(!i||Array.isArray(n)?i=Z.access(e,t,I.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=I.queue(e,t),i=n.length,o=n.shift(),r=I._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,function(){I.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:I.Callbacks("once memory").add(function(){Z.remove(e,[t+"queue",n])})})}}),I.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?I.queue(this[0],e):void 0===t?this:this.each(function(){var n=I.queue(this,e,t);I._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&I.dequeue(this,e)})},dequeue:function(e){return this.each(function(){I.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=I.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Z.get(r[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(t)}});var oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+oe+")([a-z%]*)$","i"),se=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&I.contains(e.ownerDocument,e)&&"none"===I.css(e,"display")},le=function(e,t,n,i){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];for(r in o=n.apply(e,i||[]),t)e.style[r]=s[r];return o};function ue(e,t,n,i){var o,r,s=20,a=i?function(){return i.cur()}:function(){return I.css(e,t,"")},l=a(),u=n&&n[3]||(I.cssNumber[t]?"":"px"),c=(I.cssNumber[t]||"px"!==u&&+l)&&re.exec(I.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)I.style(e,t,c+u),(1-r)*(1-(r=a()/l||.5))<=0&&(s=0),c/=r;c*=2,I.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=o)),o}var ce={};function fe(e){var t,n=e.ownerDocument,i=e.nodeName,o=ce[i];return o||(t=n.body.appendChild(n.createElement(i)),o=I.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),ce[i]=o,o)}function pe(e,t){for(var n,i,o=[],r=0,s=e.length;r<s;r++)(i=e[r]).style&&(n=i.style.display,t?("none"===n&&(o[r]=Z.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&ae(i)&&(o[r]=fe(i))):"none"!==n&&(o[r]="none",Z.set(i,"display",n)));for(r=0;r<s;r++)null!=o[r]&&(e[r].style.display=o[r]);return e}I.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?I(this).show():I(this).hide()})}});var de=/^(?:checkbox|radio)$/i,he=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ge=/^$|^module$|\/(?:java|ecma)script/i,ye={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?I.merge([e],n):n}function ve(e,t){for(var n=0,i=e.length;n<i;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}ye.optgroup=ye.option,ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td;var be,Se,xe=/<|&#?\w+;/;function _e(e,t,n,i,o){for(var r,s,a,l,u,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((r=e[d])||0===r)if("object"===k(r))I.merge(p,r.nodeType?[r]:r);else if(xe.test(r)){for(s=s||f.appendChild(t.createElement("div")),a=(he.exec(r)||["",""])[1].toLowerCase(),l=ye[a]||ye._default,s.innerHTML=l[1]+I.htmlPrefilter(r)+l[2],c=l[0];c--;)s=s.lastChild;I.merge(p,s.childNodes),(s=f.firstChild).textContent=""}else p.push(t.createTextNode(r));for(f.textContent="",d=0;r=p[d++];)if(i&&I.inArray(r,i)>-1)o&&o.push(r);else if(u=I.contains(r.ownerDocument,r),s=me(f.appendChild(r),"script"),u&&ve(s),n)for(c=0;r=s[c++];)ge.test(r.type||"")&&n.push(r);return f}be=a.createDocumentFragment().appendChild(a.createElement("div")),(Se=a.createElement("input")).setAttribute("type","radio"),Se.setAttribute("checked","checked"),Se.setAttribute("name","t"),be.appendChild(Se),v.checkClone=be.cloneNode(!0).cloneNode(!0).lastChild.checked,be.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!be.cloneNode(!0).lastChild.defaultValue;var ke=a.documentElement,Ie=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,we=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Le(){return!1}function De(){try{return a.activeElement}catch(e){}}function Ae(e,t,n,i,o,s){var a,l;if("object"===(void 0===t?"undefined":r(t))){for(l in"string"!=typeof n&&(i=i||n,n=void 0),t)Ae(e,l,n,i,t[l],s);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=Le;else if(!o)return e;return 1===s&&(a=o,(o=function(e){return I().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=I.guid++)),e.each(function(){I.event.add(this,t,o,i,n)})}I.event={global:{},add:function(e,t,n,i,o){var r,s,a,l,u,c,f,p,d,h,g,y=Z.get(e);if(y)for(n.handler&&(n=(r=n).handler,o=r.selector),o&&I.find.matchesSelector(ke,o),n.guid||(n.guid=I.guid++),(l=y.events)||(l=y.events={}),(s=y.handle)||(s=y.handle=function(t){return void 0!==I&&I.event.triggered!==t.type?I.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(M)||[""]).length;u--;)d=g=(a=we.exec(t[u])||[])[1],h=(a[2]||"").split(".").sort(),d&&(f=I.event.special[d]||{},d=(o?f.delegateType:f.bindType)||d,f=I.event.special[d]||{},c=I.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&I.expr.match.needsContext.test(o),namespace:h.join(".")},r),(p=l[d])||((p=l[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,i,h,s)||e.addEventListener&&e.addEventListener(d,s)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,c):p.push(c),I.event.global[d]=!0)},remove:function(e,t,n,i,o){var r,s,a,l,u,c,f,p,d,h,g,y=Z.hasData(e)&&Z.get(e);if(y&&(l=y.events)){for(u=(t=(t||"").match(M)||[""]).length;u--;)if(d=g=(a=we.exec(t[u])||[])[1],h=(a[2]||"").split(".").sort(),d){for(f=I.event.special[d]||{},p=l[d=(i?f.delegateType:f.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=p.length;r--;)c=p[r],!o&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(r,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||I.removeEvent(e,d,y.handle),delete l[d])}else for(d in l)I.event.remove(e,d+t[u],n,i,!0);I.isEmptyObject(l)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,r,s,a=I.event.fix(e),l=new Array(arguments.length),u=(Z.get(this,"events")||{})[a.type]||[],c=I.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=I.event.handlers.call(this,a,u),t=0;(o=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(i=((I.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,o,r,s,a=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(r=[],s={},n=0;n<l;n++)void 0===s[o=(i=t[n]).selector+" "]&&(s[o]=i.needsContext?I(o,this).index(u)>-1:I.find(o,this,null,[u]).length),s[o]&&r.push(i);r.length&&a.push({elem:u,handlers:r})}return u=this,l<t.length&&a.push({elem:u,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(I.Event.prototype,e,{enumerable:!0,configurable:!0,get:b(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[I.expando]?e:new I.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==De()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===De()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&N(this,"input"))return this.click(),!1},_default:function(e){return N(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},I.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},I.Event=function(e,t){if(!(this instanceof I.Event))return new I.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Le,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&I.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[I.expando]=!0},I.Event.prototype={constructor:I.Event,isDefaultPrevented:Le,isPropagationStopped:Le,isImmediatePropagationStopped:Le,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},I.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ie.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},I.event.addProp),I.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){I.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,o=e.handleObj;return i&&(i===this||I.contains(this,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),I.fn.extend({on:function(e,t,n,i){return Ae(this,e,t,n,i)},one:function(e,t,n,i){return Ae(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,I(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"===(void 0===e?"undefined":r(e))){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Le),this.each(function(){I.event.remove(this,e,n,t)})}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ee=/<script|<style|<link/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Fe(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")&&I(e).children("tbody")[0]||e}function je(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Pe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Oe(e,t){var n,i,o,r,s,a,l,u;if(1===t.nodeType){if(Z.hasData(e)&&(r=Z.access(e),s=Z.set(t,r),u=r.events))for(o in delete s.handle,s.events={},u)for(n=0,i=u[o].length;n<i;n++)I.event.add(t,o,u[o][n]);ee.hasData(e)&&(a=ee.access(e),l=I.extend({},a),ee.set(t,l))}}function Me(e,t,n,i){t=c.apply([],t);var o,r,s,a,l,u,f=0,p=e.length,d=p-1,h=t[0],g=b(h);if(g||p>1&&"string"==typeof h&&!v.checkClone&&Be.test(h))return e.each(function(o){var r=e.eq(o);g&&(t[0]=h.call(this,o,r.html())),Me(r,t,n,i)});if(p&&(r=(o=_e(t,e[0].ownerDocument,!1,e,i)).firstChild,1===o.childNodes.length&&(o=r),r||i)){for(a=(s=I.map(me(o,"script"),je)).length;f<p;f++)l=o,f!==d&&(l=I.clone(l,!0,!0),a&&I.merge(s,me(l,"script"))),n.call(e[f],l,f);if(a)for(u=s[s.length-1].ownerDocument,I.map(s,Pe),f=0;f<a;f++)l=s[f],ge.test(l.type||"")&&!Z.access(l,"globalEval")&&I.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?I._evalUrl&&I._evalUrl(l.src):_(l.textContent.replace(Re,""),u,l))}return e}function Ue(e,t,n){for(var i,o=t?I.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||I.cleanData(me(i)),i.parentNode&&(n&&I.contains(i.ownerDocument,i)&&ve(me(i,"script")),i.parentNode.removeChild(i));return e}I.extend({htmlPrefilter:function(e){return e.replace(Ne,"<$1></$2>")},clone:function(e,t,n){var i,o,r,s,a,l,u,c=e.cloneNode(!0),f=I.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||I.isXMLDoc(e)))for(s=me(c),i=0,o=(r=me(e)).length;i<o;i++)a=r[i],l=s[i],void 0,"input"===(u=l.nodeName.toLowerCase())&&de.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(t)if(n)for(r=r||me(e),s=s||me(c),i=0,o=r.length;i<o;i++)Oe(r[i],s[i]);else Oe(e,c);return(s=me(c,"script")).length>0&&ve(s,!f&&me(e,"script")),c},cleanData:function(e){for(var t,n,i,o=I.event.special,r=0;void 0!==(n=e[r]);r++)if(Y(n)){if(t=n[Z.expando]){if(t.events)for(i in t.events)o[i]?I.event.remove(n,i):I.removeEvent(n,i,t.handle);n[Z.expando]=void 0}n[ee.expando]&&(n[ee.expando]=void 0)}}}),I.fn.extend({detach:function(e){return Ue(this,e,!0)},remove:function(e){return Ue(this,e)},text:function(e){return G(this,function(e){return void 0===e?I.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Me(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Fe(this,e).appendChild(e)})},prepend:function(){return Me(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Fe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(I.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return I.clone(this,e,t)})},html:function(e){return G(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ee.test(e)&&!ye[(he.exec(e)||["",""])[1].toLowerCase()]){e=I.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(I.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Me(this,arguments,function(t){var n=this.parentNode;I.inArray(this,e)<0&&(I.cleanData(me(this)),n&&n.replaceChild(t,this))},e)}}),I.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){I.fn[e]=function(e){for(var n,i=[],o=I(e),r=o.length-1,s=0;s<=r;s++)n=s===r?this:this.clone(!0),I(o[s])[t](n),f.apply(i,n.get());return this.pushStack(i)}});var qe=new RegExp("^("+oe+")(?!px)[a-z%]+$","i"),He=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Ve=new RegExp(se.join("|"),"i");function We(e,t,n){var i,o,r,s,a=e.style;return(n=n||He(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||I.contains(e.ownerDocument,e)||(s=I.style(e,t)),!v.pixelBoxStyles()&&qe.test(s)&&Ve.test(t)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ke.appendChild(u).appendChild(c);var e=i.getComputedStyle(c);n="1%"!==e.top,l=12===t(e.marginLeft),c.style.right="60%",s=36===t(e.right),o=36===t(e.width),c.style.position="absolute",r=36===c.offsetWidth||"absolute",ke.removeChild(u),c=null}}function t(e){return Math.round(parseFloat(e))}var n,o,r,s,l,u=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,I.extend(v,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),r}}))}();var Ge=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Xe={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","Moz","ms"],Ye=a.createElement("div").style;function Je(e){var t=I.cssProps[e];return t||(t=I.cssProps[e]=function(e){if(e in Ye)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Ke.length;n--;)if((e=Ke[n]+t)in Ye)return e}(e)||e),t}function Ze(e,t,n){var i=re.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function et(e,t,n,i,o,r){var s="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=I.css(e,n+se[s],!0,o)),i?("content"===n&&(l-=I.css(e,"padding"+se[s],!0,o)),"margin"!==n&&(l-=I.css(e,"border"+se[s]+"Width",!0,o))):(l+=I.css(e,"padding"+se[s],!0,o),"padding"!==n?l+=I.css(e,"border"+se[s]+"Width",!0,o):a+=I.css(e,"border"+se[s]+"Width",!0,o));return!i&&r>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-a-.5))),l}function tt(e,t,n){var i=He(e),o=We(e,t,i),r="border-box"===I.css(e,"boxSizing",!1,i),s=r;if(qe.test(o)){if(!n)return o;o="auto"}return s=s&&(v.boxSizingReliable()||o===e.style[t]),("auto"===o||!parseFloat(o)&&"inline"===I.css(e,"display",!1,i))&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(o=parseFloat(o)||0)+et(e,t,n||(r?"border":"content"),s,i,o)+"px"}function nt(e,t,n,i,o){return new nt.prototype.init(e,t,n,i,o)}I.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,l=K(t),u=Qe.test(t),c=e.style;if(u||(t=Je(l)),a=I.cssHooks[t]||I.cssHooks[l],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:c[t];"string"===(s=void 0===n?"undefined":r(n))&&(o=re.exec(n))&&o[1]&&(n=ue(e,t,o),s="number"),null!=n&&n==n&&("number"===s&&(n+=o&&o[3]||(I.cssNumber[l]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var o,r,s,a=K(t);return Qe.test(t)||(t=Je(a)),(s=I.cssHooks[t]||I.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=We(e,t,i)),"normal"===o&&t in $e&&(o=$e[t]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),I.each(["height","width"],function(e,t){I.cssHooks[t]={get:function(e,n,i){if(n)return!Ge.test(I.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,t,i):le(e,Xe,function(){return tt(e,t,i)})},set:function(e,n,i){var o,r=He(e),s="border-box"===I.css(e,"boxSizing",!1,r),a=i&&et(e,t,i,s,r);return s&&v.scrollboxSize()===r.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-et(e,t,"border",!1,r)-.5)),a&&(o=re.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=I.css(e,t)),Ze(0,n,a)}}}),I.cssHooks.marginLeft=ze(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-le(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),I.each({margin:"",padding:"",border:"Width"},function(e,t){I.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+se[i]+t]=r[i]||r[i-2]||r[0];return o}},"margin"!==e&&(I.cssHooks[e+t].set=Ze)}),I.fn.extend({css:function(e,t){return G(this,function(e,t,n){var i,o,r={},s=0;if(Array.isArray(t)){for(i=He(e),o=t.length;s<o;s++)r[t[s]]=I.css(e,t[s],!1,i);return r}return void 0!==n?I.style(e,t,n):I.css(e,t)},e,t,arguments.length>1)}}),I.Tween=nt,nt.prototype={constructor:nt,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||I.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(I.cssNumber[n]?"":"px")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.options.duration?this.pos=t=I.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}},nt.prototype.init.prototype=nt.prototype,nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=I.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){I.fx.step[e.prop]?I.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[I.cssProps[e.prop]]&&!I.cssHooks[e.prop]?e.elem[e.prop]=e.now:I.style(e.elem,e.prop,e.now+e.unit)}}},nt.propHooks.scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},I.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},I.fx=nt.prototype.init,I.fx.step={};var it,ot,rt=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function at(){ot&&(!1===a.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(at):i.setTimeout(at,I.fx.interval),I.fx.tick())}function lt(){return i.setTimeout(function(){it=void 0}),it=Date.now()}function ut(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=se[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ct(e,t,n){for(var i,o=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,t,e))return i}function ft(e,t,n){var i,o,r=0,s=ft.prefilters.length,a=I.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=it||lt(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),r=0,s=u.tweens.length;r<s;r++)u.tweens[r].run(i);return a.notifyWith(e,[u,i,n]),i<1&&s?n:(s||a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:I.extend({},t),opts:I.extend(!0,{specialEasing:{},easing:I.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||lt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=I.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)u.tweens[n].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),c=u.props;for(!function(e,t){var n,i,o,r,s;for(n in e)if(o=t[i=K(n)],r=e[n],Array.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(s=I.cssHooks[i])&&"expand"in s)for(n in r=s.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}(c,u.opts.specialEasing);r<s;r++)if(i=ft.prefilters[r].call(u,e,c,u.opts))return b(i.stop)&&(I._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return I.map(c,ct,u),b(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),I.fx.timer(I.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}I.Animation=I.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){b(e)?(t=e,e=["*"]):e=e.match(M);for(var n,i=0,o=e.length;i<o;i++)n=e[i],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,o,r,s,a,l,u,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=Z.get(e,"fxshow");for(i in n.queue||(null==(s=I._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,I.queue(e,"fx").length||s.empty.fire()})})),t)if(o=t[i],rt.test(o)){if(delete t[i],r=r||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!y||void 0===y[i])continue;g=!0}d[i]=y&&y[i]||I.style(e,i)}if((l=!I.isEmptyObject(t))||!I.isEmptyObject(d))for(i in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(u=y&&y.display)&&(u=Z.get(e,"display")),"none"===(c=I.css(e,"display"))&&(u?c=u:(pe([e],!0),u=e.style.display||u,c=I.css(e,"display"),pe([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===I.css(e,"float")&&(l||(p.done(function(){h.display=u}),null==u&&(c=h.display,u="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,d)l||(y?"hidden"in y&&(g=y.hidden):y=Z.access(e,"fxshow",{display:u}),r&&(y.hidden=!g),g&&pe([e],!0),p.done(function(){for(i in g||pe([e]),Z.remove(e,"fxshow"),d)I.style(e,i,d[i])})),l=ct(g?y[i]:0,i,p),i in y||(y[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),I.speed=function(e,t,n){var i=e&&"object"===(void 0===e?"undefined":r(e))?I.extend({},e):{complete:n||!n&&t||b(e)&&e,duration:e,easing:n&&t||t&&!b(t)&&t};return I.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in I.fx.speeds?i.duration=I.fx.speeds[i.duration]:i.duration=I.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){b(i.old)&&i.old.call(this),i.queue&&I.dequeue(this,i.queue)},i},I.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=I.isEmptyObject(e),r=I.speed(t,n,i),s=function(){var t=ft(this,I.extend({},e),r);(o||Z.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=I.timers,s=Z.get(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&st.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));!t&&n||I.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Z.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=I.timers,s=i?i.length:0;for(n.finish=!0,I.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),I.each(["toggle","show","hide"],function(e,t){var n=I.fn[t];I.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,i,o)}}),I.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){I.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),I.timers=[],I.fx.tick=function(){var e,t=0,n=I.timers;for(it=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||I.fx.stop(),it=void 0},I.fx.timer=function(e){I.timers.push(e),I.fx.start()},I.fx.interval=13,I.fx.start=function(){ot||(ot=!0,at())},I.fx.stop=function(){ot=null},I.fx.speeds={slow:600,fast:200,_default:400},I.fn.delay=function(e,t){return e=I.fx&&I.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var o=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(o)}})},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var pt,dt=I.expr.attrHandle;I.fn.extend({attr:function(e,t){return G(this,I.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){I.removeAttr(this,e)})}}),I.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?I.prop(e,t,n):(1===r&&I.isXMLDoc(e)||(o=I.attrHooks[t.toLowerCase()]||(I.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void I.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:null==(i=I.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(M);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?I.removeAttr(e,n):e.setAttribute(n,n),n}},I.each(I.expr.match.bool.source.match(/\w+/g),function(e,t){var n=dt[t]||I.find.attr;dt[t]=function(e,t,i){var o,r,s=t.toLowerCase();return i||(r=dt[s],dt[s]=o,o=null!=n(e,t,i)?s:null,dt[s]=r),o}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function yt(e){return(e.match(M)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(M)||[]}I.fn.extend({prop:function(e,t){return G(this,I.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[I.propFix[e]||e]})}}),I.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&I.isXMLDoc(e)||(t=I.propFix[t]||t,o=I.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=I.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(I.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),I.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){I.propFix[this.toLowerCase()]=this}),I.fn.extend({addClass:function(e){var t,n,i,o,r,s,a,l=0;if(b(e))return this.each(function(t){I(this).addClass(e.call(this,t,mt(this)))});if((t=vt(e)).length)for(;n=this[l++];)if(o=mt(n),i=1===n.nodeType&&" "+yt(o)+" "){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(a=yt(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,o,r,s,a,l=0;if(b(e))return this.each(function(t){I(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;n=this[l++];)if(o=mt(n),i=1===n.nodeType&&" "+yt(o)+" "){for(s=0;r=t[s++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o!==(a=yt(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=void 0===e?"undefined":r(e),i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):b(e)?this.each(function(n){I(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,o,r,s;if(i)for(o=0,r=I(this),s=vt(e);t=s[o++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||((t=mt(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+yt(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;I.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=b(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,I(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=I.map(o,function(e){return null==e?"":e+""})),(t=I.valHooks[this.type]||I.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=I.valHooks[o.type]||I.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(bt,""):null==n?"":n:void 0}}),I.extend({valHooks:{option:{get:function(e){var t=I.find.attr(e,"value");return null!=t?t:yt(I.text(e))}},select:{get:function(e){var t,n,i,o=e.options,r=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?r+1:o.length;for(i=r<0?l:s?r:0;i<l;i++)if(((n=o[i]).selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=I(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,o=e.options,r=I.makeArray(t),s=o.length;s--;)((i=o[s]).selected=I.inArray(I.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),I.each(["radio","checkbox"],function(){I.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=I.inArray(I(e).val(),t)>-1}},v.checkOn||(I.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in i;var St=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};I.extend(I.event,{trigger:function(e,t,n,o){var s,l,u,c,f,p,d,h,y=[n||a],m=g.call(e,"type")?e.type:e,v=g.call(e,"namespace")?e.namespace.split("."):[];if(l=h=u=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!St.test(m+I.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),f=m.indexOf(":")<0&&"on"+m,(e=e[I.expando]?e:new I.Event(m,"object"===(void 0===e?"undefined":r(e))&&e)).isTrigger=o?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:I.makeArray(t,[e]),d=I.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(n,t))){if(!o&&!d.noBubble&&!S(n)){for(c=d.delegateType||m,St.test(c+m)||(l=l.parentNode);l;l=l.parentNode)y.push(l),u=l;u===(n.ownerDocument||a)&&y.push(u.defaultView||u.parentWindow||i)}for(s=0;(l=y[s++])&&!e.isPropagationStopped();)h=l,e.type=s>1?c:d.bindType||m,(p=(Z.get(l,"events")||{})[e.type]&&Z.get(l,"handle"))&&p.apply(l,t),(p=f&&l[f])&&p.apply&&Y(l)&&(e.result=p.apply(l,t),!1===e.result&&e.preventDefault());return e.type=m,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(y.pop(),t)||!Y(n)||f&&b(n[m])&&!S(n)&&((u=n[f])&&(n[f]=null),I.event.triggered=m,e.isPropagationStopped()&&h.addEventListener(m,xt),n[m](),e.isPropagationStopped()&&h.removeEventListener(m,xt),I.event.triggered=void 0,u&&(n[f]=u)),e.result}},simulate:function(e,t,n){var i=I.extend(new I.Event,n,{type:e,isSimulated:!0});I.event.trigger(i,null,t)}}),I.fn.extend({trigger:function(e,t){return this.each(function(){I.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return I.event.trigger(e,t,n,!0)}}),v.focusin||I.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){I.event.simulate(t,e.target,I.event.fix(e))};I.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=Z.access(i,t);o||i.addEventListener(e,n,!0),Z.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=Z.access(i,t)-1;o?Z.access(i,t,o):(i.removeEventListener(e,n,!0),Z.remove(i,t))}}});var _t=i.location,kt=Date.now(),It=/\?/;I.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||I.error("Invalid XML: "+e),t};var Tt=/\[\]$/,wt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;function Dt(e,t,n,i){var o;if(Array.isArray(t))I.each(t,function(t,o){n||Tt.test(e)?i(e,o):Dt(e+"["+("object"===(void 0===o?"undefined":r(o))&&null!=o?t:"")+"]",o,n,i)});else if(n||"object"!==k(t))i(e,t);else for(o in t)Dt(e+"["+o+"]",t[o],n,i)}I.param=function(e,t){var n,i=[],o=function(e,t){var n=b(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!I.isPlainObject(e))I.each(e,function(){o(this.name,this.value)});else for(n in e)Dt(n,e[n],t,o);return i.join("&")},I.fn.extend({serialize:function(){return I.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=I.prop(this,"elements");return e?I.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!I(this).is(":disabled")&&Lt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!de.test(e))}).map(function(e,t){var n=I(this).val();return null==n?null:Array.isArray(n)?I.map(n,function(e){return{name:t.name,value:e.replace(wt,"\r\n")}}):{name:t.name,value:n.replace(wt,"\r\n")}}).get()}});var At=/%20/g,Nt=/#.*$/,Et=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Ft=/^\/\//,jt={},Pt={},Ot="*/".concat("*"),Mt=a.createElement("a");function Ut(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(M)||[];if(b(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function qt(e,t,n,i){var o={},r=e===Pt;function s(a){var l;return o[a]=!0,I.each(e[a]||[],function(e,a){var u=a(t,n,i);return"string"!=typeof u||r||o[u]?r?!(l=u):void 0:(t.dataTypes.unshift(u),s(u),!1)}),l}return s(t.dataTypes[0])||!o["*"]&&s("*")}function Ht(e,t){var n,i,o=I.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&I.extend(!0,e,i),e}Mt.href=_t.href,I.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ot,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":I.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,I.ajaxSettings),t):Ht(I.ajaxSettings,e)},ajaxPrefilter:Ut(jt),ajaxTransport:Ut(Pt),ajax:function(e,t){"object"===(void 0===e?"undefined":r(e))&&(t=e,e=void 0),t=t||{};var n,o,s,l,u,c,f,p,d,h,g=I.ajaxSetup({},t),y=g.context||g,m=g.context&&(y.nodeType||y.jquery)?I(y):I.event,v=I.Deferred(),b=I.Callbacks("once memory"),S=g.statusCode||{},x={},_={},k="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(f){if(!l)for(l={};t=Bt.exec(s);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return f?s:null},setRequestHeader:function(e,t){return null==f&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==f&&(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(f)T.always(e[T.status]);else for(t in e)S[t]=[S[t],e[t]];return this},abort:function(e){var t=e||k;return n&&n.abort(t),w(0,t),this}};if(v.promise(T),g.url=((e||g.url||_t.href)+"").replace(Ft,_t.protocol+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(M)||[""],null==g.crossDomain){c=a.createElement("a");try{c.href=g.url,c.href=c.href,g.crossDomain=Mt.protocol+"//"+Mt.host!=c.protocol+"//"+c.host}catch(e){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=I.param(g.data,g.traditional)),qt(jt,g,t,T),f)return T;for(d in(p=I.event&&g.global)&&0==I.active++&&I.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Rt.test(g.type),o=g.url.replace(Nt,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(At,"+")):(h=g.url.slice(o.length),g.data&&(g.processData||"string"==typeof g.data)&&(o+=(It.test(o)?"&":"?")+g.data,delete g.data),!1===g.cache&&(o=o.replace(Et,"$1"),h=(It.test(o)?"&":"?")+"_="+kt+++h),g.url=o+h),g.ifModified&&(I.lastModified[o]&&T.setRequestHeader("If-Modified-Since",I.lastModified[o]),I.etag[o]&&T.setRequestHeader("If-None-Match",I.etag[o])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&T.setRequestHeader("Content-Type",g.contentType),T.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Ot+"; q=0.01":""):g.accepts["*"]),g.headers)T.setRequestHeader(d,g.headers[d]);if(g.beforeSend&&(!1===g.beforeSend.call(y,T,g)||f))return T.abort();if(k="abort",b.add(g.complete),T.done(g.success),T.fail(g.error),n=qt(Pt,g,t,T)){if(T.readyState=1,p&&m.trigger("ajaxSend",[T,g]),f)return T;g.async&&g.timeout>0&&(u=i.setTimeout(function(){T.abort("timeout")},g.timeout));try{f=!1,n.send(x,w)}catch(e){if(f)throw e;w(-1,e)}}else w(-1,"No Transport");function w(e,t,r,a){var l,c,d,h,x,_=t;f||(f=!0,u&&i.clearTimeout(u),n=void 0,s=a||"",T.readyState=e>0?4:0,l=e>=200&&e<300||304===e,r&&(h=function(e,t,n){for(var i,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),n[r]}(g,T,r)),h=function(e,t,n,i){var o,r,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(r=c.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=u[l+" "+r]||u["* "+r]))for(o in u)if((a=o.split(" "))[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[o]:!0!==u[o]&&(r=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(g,h,T,l),l?(g.ifModified&&((x=T.getResponseHeader("Last-Modified"))&&(I.lastModified[o]=x),(x=T.getResponseHeader("etag"))&&(I.etag[o]=x)),204===e||"HEAD"===g.type?_="nocontent":304===e?_="notmodified":(_=h.state,c=h.data,l=!(d=h.error))):(d=_,!e&&_||(_="error",e<0&&(e=0))),T.status=e,T.statusText=(t||_)+"",l?v.resolveWith(y,[c,_,T]):v.rejectWith(y,[T,_,d]),T.statusCode(S),S=void 0,p&&m.trigger(l?"ajaxSuccess":"ajaxError",[T,g,l?c:d]),b.fireWith(y,[T,_]),p&&(m.trigger("ajaxComplete",[T,g]),--I.active||I.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return I.get(e,t,n,"json")},getScript:function(e,t){return I.get(e,void 0,t,"script")}}),I.each(["get","post"],function(e,t){I[t]=function(e,n,i,o){return b(n)&&(o=o||i,i=n,n=void 0),I.ajax(I.extend({url:e,type:t,dataType:o,data:n,success:i},I.isPlainObject(e)&&e))}}),I._evalUrl=function(e){return I.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},I.fn.extend({wrapAll:function(e){var t;return this[0]&&(b(e)&&(e=e.call(this[0])),t=I(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return b(e)?this.each(function(t){I(this).wrapInner(e.call(this,t))}):this.each(function(){var t=I(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b(e);return this.each(function(n){I(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){I(this).replaceWith(this.childNodes)}),this}}),I.expr.pseudos.hidden=function(e){return!I.expr.pseudos.visible(e)},I.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},I.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Wt=I.ajaxSettings.xhr();v.cors=!!Wt&&"withCredentials"in Wt,v.ajax=Wt=!!Wt,I.ajaxTransport(function(e){var t,n;if(v.cors||Wt&&!e.crossDomain)return{send:function(o,r){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(s,o[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Vt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&i.setTimeout(function(){t&&n()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),I.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),I.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return I.globalEval(e),e}}}),I.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),I.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(i,o){t=I("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}});var zt,Gt=[],Qt=/(=)\?(?=&|$)|\?\?/;I.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||I.expando+"_"+kt++;return this[e]=!0,e}}),I.ajaxPrefilter("json jsonp",function(e,t,n){var o,r,s,a=!1!==e.jsonp&&(Qt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Qt,"$1"+o):!1!==e.jsonp&&(e.url+=(It.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||I.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=i[o],i[o]=function(){s=arguments},n.always(function(){void 0===r?I(i).removeProp(o):i[o]=r,e[o]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(o)),s&&b(r)&&r(s[0]),s=r=void 0}),"script"}),v.createHTMLDocument=((zt=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===zt.childNodes.length),I.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((i=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(i)):t=a),o=E.exec(e),r=!n&&[],o?[t.createElement(o[1])]:(o=_e([e],t,r),r&&r.length&&I(r).remove(),I.merge([],o.childNodes)));var i,o,r},I.fn.load=function(e,t,n){var i,o,s,a=this,l=e.indexOf(" ");return l>-1&&(i=yt(e.slice(l)),e=e.slice(0,l)),b(t)?(n=t,t=void 0):t&&"object"===(void 0===t?"undefined":r(t))&&(o="POST"),a.length>0&&I.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){s=arguments,a.html(i?I("<div>").append(I.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,s||[e.responseText,t,e])})}),this},I.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){I.fn[t]=function(e){return this.on(t,e)}}),I.expr.pseudos.animated=function(e){return I.grep(I.timers,function(t){return e===t.elem}).length},I.offset={setOffset:function(e,t,n){var i,o,r,s,a,l,u=I.css(e,"position"),c=I(e),f={};"static"===u&&(e.style.position="relative"),a=c.offset(),r=I.css(e,"top"),l=I.css(e,"left"),("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1?(s=(i=c.position()).top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),b(t)&&(t=t.call(e,n,I.extend({},a))),null!=t.top&&(f.top=t.top-a.top+s),null!=t.left&&(f.left=t.left-a.left+o),"using"in t?t.using.call(e,f):c.css(f)}},I.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){I.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],o={top:0,left:0};if("fixed"===I.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===I.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((o=I(e).offset()).top+=I.css(e,"borderTopWidth",!0),o.left+=I.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-I.css(i,"marginTop",!0),left:t.left-o.left-I.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===I.css(e,"position");)e=e.offsetParent;return e||ke})}}),I.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;I.fn[e]=function(i){return G(this,function(e,i,o){var r;if(S(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===o)return r?r[t]:e[i];r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):e[i]=o},e,i,arguments.length)}}),I.each(["top","left"],function(e,t){I.cssHooks[t]=ze(v.pixelPosition,function(e,n){if(n)return n=We(e,t),qe.test(n)?I(e).position()[t]+"px":n})}),I.each({Height:"height",Width:"width"},function(e,t){I.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){I.fn[i]=function(o,r){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===r?"margin":"border");return G(this,function(t,n,o){var r;return S(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===o?I.css(t,n,a):I.style(t,n,o,a)},t,s?o:void 0,s)}})}),I.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){I.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),I.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),I.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),I.proxy=function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),b(e))return i=u.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(u.call(arguments)))}).guid=e.guid=e.guid||I.guid++,o},I.holdReady=function(e){e?I.readyWait++:I.ready(!0)},I.isArray=Array.isArray,I.parseJSON=JSON.parse,I.nodeName=N,I.isFunction=b,I.isWindow=S,I.camelCase=K,I.type=k,I.now=Date.now,I.isNumeric=function(e){var t=I.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(n=function(){return I}.apply(t,[]))||(e.exports=n);var Xt=i.jQuery,$t=i.$;return I.noConflict=function(e){return i.$===I&&(i.$=$t),e&&i.jQuery===I&&(i.jQuery=Xt),I},o||(i.jQuery=i.$=I),I},"object"===r(e)&&"object"===r(e.exports)?e.exports=i.document?o(i,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return o(e)}:o(i)}).call(this,n(35)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(36)),s=a(n(34));function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,i=this;this.encodeDecodePatching(),this.tagsListData="/Intellect/TagsAggregator",this.searchListData="/app-library/Search",this.requests={get:{},update:{}},this.isClientContextBusy={},this.isListUpdateBusy={},this.isListGetBusy={},this.types={list:[{name:"genericList",description:"Custom list"},{name:"documentLibrary",description:"Document library"},{name:"pictureLibrary",description:"Picture library"}],column:["Text","Note","Number","Choice","DateTime","Lookup","User"]},this.constants={GUID_MASK:/[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}/},this.pagesPositions={},this.requestsCount={get:{web:0,list:0,column:0,folder:0,file:0,item:0,user:0},create:{web:0,list:0,column:0,folder:0,file:0,item:0},update:{web:0,list:0,column:0,folder:0,file:0,item:0},delete:{web:0,list:0,column:0,folder:0,file:0,item:0},success:0,fail:0},this.TAGS_COLUMN_NAMES=(l(e={"/Intellect/TripStories":"Tags","/Intellect/Отчеты о командировках":"Tags","/Lenta/Posts":"tags","/News/News Enabled":"tags","/buro/XEventArticles":"Tags","/Alekseev/Test":"Tags1","/Alekseev/TestEdit":"Tags","/Alekseev/Source":"tags","/app-library/Library":"tags","/app/Wall":"iTags","/app/Blogs":"iTags"},"/app/Blogs","iTags"),l(e,"/app-list/process-me/Complaints","tags"),e),Object.defineProperties(this.TAGS_COLUMN_NAMES,{index:{enumerable:!1,writable:!0,value:0},next:{enumerable:!1,value:function(){return n||(n=Object.keys(i.TAGS_COLUMN_NAMES).sort()),n[i.TAGS_COLUMN_NAMES.index++]}},reset:{enumerable:!1,value:function(){i.TAGS_COLUMN_NAMES.index=0}}}),this.CHUNK_MAX_LENGTH=252,this.GROUP_REGEXP_STR="\\s+(and|or)\\s+",this.GROUP_REGEXP=new RegExp(this.GROUP_REGEXP_STR,"i"),this.LIST_TYPE_CODES={100:"genericList",101:"documentLibrary"},this.COLUMN_TYPES={AppAuthor:"Lookup",AppEditor:"Lookup",Attachments:"Attachments",Author:"Lookup",BaseName:"Computed",ContentType:"Computed",ContentTypeId:"ContentTypeId",Created:"DateTime",Created_x0020_Date:"Lookup",DocIcon:"Computed",Edit:"Computed",Editor:"Lookup",EncodedAbsUrl:"Computed",FSObjType:"Number",FileDirRef:"Lookup",FileLeafRef:"File",FileRef:"File",File_x0020_Type:"Text",FolderChildCount:"Number",GUID:"Guid",HTML_x0020_Type:"Computed",ID:"Counter",InstanceID:"Integer",ItemChildCount:"Number",Last_x0020_Modified:"Lookup",LinkFilename:"Computed",LinkFilename2:"Computed",LinkFilenameNoMenu:"Computed",LinkTitle:"Computed",LinkTitle2:"Computed",LinkTitleNoMenu:"Computed",MetaInfo:"Lookup",Modified:"DateTime",Order:"Number",PermMask:"Computed",ProgId:"Lookup",ScopeId:"Lookup",SelectTitle:"Computed",ServerUrl:"Computed",SortBehavior:"Lookup",SyncClientId:"Lookup",Title:"Text",UniqueId:"Lookup",WorkflowInstanceID:"Guid",WorkflowVersion:"Integer",_CopySource:"Text",_EditMenuTableEnd:"Computed",_EditMenuTableStart:"Computed",_EditMenuTableStart2:"Computed",_HasCopyDestinations:"Boolean",_IsCurrentVersion:"Boolean",_Level:"Integer",_ModerationComments:"Note",_ModerationStatus:"ModStat",_UIVersion:"Integer",_UIVersionString:"Text"},this.COLUMN_TYPES_REGEXP=/(Text|Note|Number|Integer|Counter|Boolean|Lookup|User|DateTime|Computed|ModStat|Guid|File|Attachments|LookupMulti|UserMulti)\s+/,this.OPERANDS_REGEXP=/\s+(eq|neq|geq|leq|gt|lt|isnull|isnotnull|contains|beginsWith|includes|notincludes|search|in)(\s+|$)/i,this.initCache(),setInterval(function(){i.clearCache()},6e4)}return o(t,[{key:"getAllRootWebs",value:function(t,n){var i,o,r=this,s=this.cache;if(n&&(i=n.viewFields,o=n.isCached),"function"===e(t))if(o&&this.checkNodeExists(s,["websAll"]))t(this.prepareResponseCollection(s.websAll,n));else{var a=new SP.ClientContext("/"),l=a.get_web().get_webs();this.createNodeTree(s,["websAll"]),this.load(a,l,i),this.execute(a,function(e,i){r.requestsCount.get.web++,s.websAll=l,t(r.prepareResponseCollection(l,n))},this.onQueryFailed)}else console.log("cb is not a function")}},{key:"getWeb",value:function(t,n,i){var o,r,s,a=this,l=this.cache.web;if(i&&(o=i.viewFields,r=i.isExpanded,s=i.isCached),"function"===e(n))if(s&&l[t])n(r?l[t]:l[t].get_objectData().get_properties());else{var u=t?new SP.ClientContext(t):new SP.ClientContext.get_current,c=u.get_web();this.createNodeTree(l,[t]),this.load(u,c,o),this.execute(u,function(e,i){a.requestsCount.get.web++,l[t]=c,n(r?c:c.get_objectData().get_properties())},function(e,i){console.log(i.get_message()),n&&n(),delete l[t]})}else console.log("cb is not a function")}},{key:"createWeb",value:function(e,t){var n=this,i=e.split("/"),o=i.pop(),r=i.join("/"),s=new SP.ClientContext(r),a=s.get_web(),l=new SP.WebCreationInformation;l.set_title(o),l.set_language(1033),l.set_url(o),l.set_useSamePermissionsAsParentSite(!0),l.set_webTemplate("STS"),a.get_webs().add(l),a.update(),this.execute(s,function(){n.requestsCount.create.web++,console.log("created web: "+e),t(a)})}},{key:"deleteWeb",value:function(e,t){var n=this,i=new SP.ClientContext(e);i.get_web().deleteObject(),this.execute(i,function(){n.requestsCount.delete.web++,console.log("deleted web: "+e),t()})}},{key:"createWebProject",value:function(e,t){var n=this,i=1;/^\//.test(e)&&(e=e.substring(1));var o=e.split("/");function s(e,t){e="/apps/"+e,n.createWeb(e,function(){for(var i,o=[],s=["/Site Pages","/Site Assets","/Documents"],l=0;l<s.length;l++)i=r.default.Deferred(),o.push(i),function(t,i){console.log(e+s[t]),n.deleteList(e+s[t],function(){i.resolve()},{silent:!0})}(l,i);r.default.when.apply(null,o).done(function(){var i=e+"/src";n.createList(i,function(){n.updateList(i,{enableVersioning:!0},function(){var i=r.default.Deferred(),o=r.default.Deferred(),s=r.default.Deferred(),l=r.default.Deferred();a(e,"aspx",null,"default.aspx",i.resolve),a(e,"aspx",null,"index.aspx",o.resolve),a(e,"js","src","index.js",s.resolve,"js"),a(e,"css","src","style.css",l.resolve,"css"),r.default.when(i,o,s,l).done(function(){for(var i,o=["newsfeed.aspx","GettingStarted.aspx"],s=[],a=0;a<o.length;a++)i=r.default.Deferred(),s.push(i),function(t,i){n.deleteFileByRelUrl(e,e+"/"+o[t],function(){i.resolve()})}(a,i);r.default.when.apply(null,s).done(function(){for(var o=[],s=["m","images","_private"],a=0;a<s.length;a++)i=r.default.Deferred(),o.push(i),function(t,i){n.deleteFolderByUrl(e,s[t],function(){i.resolve()})}(a,i);r.default.when.apply(null,o).done(function(){console.log("created web: "+e),t&&t()})})})})},{listType:"documentLibrary",enableVersioning:!0,description:"Main assets list"})})})}function a(e,t,i,o,r,s){n.getFileREST("/common/ProjectLayoutAssets",o,function(t){n.uploadFileByRelUrl(e,i,{base64:btoa(t),filename:o},function(){r&&r()},{folder:s})},{needValue:!0,folder:t})}o.length&&o[0]?function e(t){if(o.length>=i){var r=o.slice(0,i++).join("/");n.getWeb("/apps/"+r,function(n){n?e(t):s(r,function(){e(t)})})}else console.log("created all webs"),t&&t()}(t):s(e,t)}},{key:"getAllLists",value:function(t,n,i){var o,r,s=this,a=this.cache.listsAll;if(i&&(o=i.viewFields,r=i.isCached),"function"===e(n))if(r&&this.checkNodeExists(a,[t]))n(this.prepareResponseCollection(a[t],i));else{var l=new SP.ClientContext(t),u=l.get_web().get_lists();this.load(l,u,o),this.createNodeTree(a,[t]),this.execute(l,function(e,o){s.requestsCount.get.list++,a[t]=u,n(s.prepareResponseCollection(u,i))},function(e,n){console.log(n.get_message()),delete a[t]})}else console.log("cb is not a function")}},{key:"getLists",value:function(t,n,i,o){var r,s,a,l,u,c={},f=this,p=this.cache.list;if(o&&(r=o.viewFields,s=o.isCached),"function"===e(i))if("array"===e(n)&&n.length){for(var d=t?new SP.ClientContext(t):new SP.ClientContext.get_current,h=d.get_web().get_lists(),g=0;g<n.length;g++)a=n[g],s&&this.checkNodeExists(p,[t,a])?c[a]=p[t][a]:(l=!0,u=this.constants.GUID_MASK.test(a)?h.getById(a):h.getByTitle(a),this.createNodeTree(p,[t,a]),this.load(d,u,r),c[a]=u);l?this.execute(d,function(e,n){f.requestsCount.get.list++,f.setCache(p[t],c),i(f.prepareResponseCollection(c,o))},function(e,n){var i=n.get_message(),o=i.split("'")[1];console.log(i),delete p[t][o]}):i(this.prepareResponseCollection(c,o))}else this.getAllLists(t,i,o);else console.log("cb is not a function")}},{key:"getList",value:function(t,n,i){var o,r,s,a=this,l=this.cache.list;if(t)if("string"===e(t)&&(t=this.getListData(t)),i&&(o=i.viewFields,r=i.isExpanded,s=i.isCached),"function"===e(n))if(s&&this.checkNodeExists(l,[t.path,t.title]))n(r?l[t.path][t.title]:l[t.path][t.title].get_objectData().get_properties());else{var u=new SP.ClientContext(t.path),c=u.get_web().get_lists(),f=this.constants.GUID_MASK.test(t.title)?c.getById(t.title):c.getByTitle(t.title);this.createNodeTree(l,[t.path,t.title]),this.load(u,f,o),this.execute(u,function(e,i){a.requestsCount.get.list++,l[t.path][t.title]=f,n(r?f:f.get_objectData().get_properties())},function(e,i){var o=i.get_message();console.log(o),delete l[t.path][t.title],n&&n()})}else console.log("cb is not a function");else console.log("listData is missed")}},{key:"createList",value:function(t,n,i){var o,r,s=this;if(t){"object"===e(i)?(r=i.description,o=i.listType):o=i;t="string"===e(t)?this.getListData(t):t;var a=new SP.ClientContext(t.path),l=new SP.ListCreationInformation;l.set_title(t.title),r&&l.set_description(r),l.set_templateType(SP.ListTemplateType[o||"genericList"]);var u=a.get_web().get_lists().add(l);u.set_enableFolderCreation(!0),u.update(),a.load(u),this.execute(a,function(){s.requestsCount.create.list++,console.log("created list: "+t.title),n&&n(u)})}else console.log("listData is missed")}},{key:"updateList",value:function(t,n,i){var o=this;if(t){if("object"===e(n)){"string"===e(t)&&(t=this.getListData(t));var r=new SP.ClientContext(t.path),s=r.get_web().get_lists(),a=o.constants.GUID_MASK.test(t.title)?s.getById(t.title):s.getByTitle(t.title);n.enableVersioning&&a.set_enableVersioning(!0),a.update(),r.load(a),this.execute(r,function(){o.requestsCount.create.list++,console.log("updated list: "+t.title),i&&i(a)})}}else console.log("listData is missed")}},{key:"cloneListLayout",value:function(e,t,n){var i=this;e||t||console.log("wrong input arguments");r.default.Deferred();this.getList(e,function(o){o?(o.BaseType,i.getListAllColumns(e,function(e){i.getList(t,function(s){var a=r.default.Deferred();s?i.getListAllColumns(t,function(e){s.ItemCount?i.clearList(t,function(){a.resolve(e)}):a.resolve(e)},{mapBy:"InternalName"}):i.createList(t,function(){a.resolve({})},i.LIST_TYPE_CODES[o.BaseTemplate]),r.default.when(a).then(function(a){var l,u;console.log("creating columns...");var c=[],f=r.default.Deferred();for(var p in e)if(!(u=e[p]).ReadOnlyField&&!u.FromBaseType&&!a[p]){switch(l={title:p,type:u.TypeAsString,defaultValue:u.DefaultValue},u.TypeAsString){case"Note":l.isRichText=u.RichText;break;case"Lookup":case"LookupMulti":l.lookupWebGuid=u.LookupWebId,l.lookupListGuid=u.LookupList,l.lookupField=u.LookupField,l.isMultiple=u.AllowMultipleValues;break;case"User":case"UserMulti":l.isMultiple=u.AllowMultipleValues}c.push(l)}c.length?i.createListColumns(t,c,function(){f.resolve()}):f.resolve(),r.default.when(f).then(function(){console.log("columns created"),n&&n({list:o,columns:e},{list:s,columns:a})})})})},{mapBy:"InternalName"})):console.log(o+"not exists")})}},{key:"cloneList",value:function(t,n,i){var o,s,a={},l=this;this.cloneListLayout(t,n,function(u,c){var f=r.default.Deferred();for(var p in u.columns)(s=u.columns[p]).ReadOnlyField||(a[s.Title]=!0);c.columns.sourceID?f.resolve():l.createListColumns(n,[{title:"sourceID",type:"Number"}],function(){f.resolve()}),r.default.when(f).done(function(){o=u.list.BaseType,console.log("get folders to create..."),l.getListAllFolders(t,function(s){var u,c,f;console.log("folders get!");var p=[],d={},h=r.default.Deferred();for(c in s)if("0"===(u=s[c]).FolderChildCount){for(var g=0;g<u.length;g++)f=u[g],a[c]&&("array"===e(f)?f.length&&(d[c]=f):null!==f&&(d[c]=f));p.push(u.FileRef)}p.length?(console.log("creating folders..."),l.createListFolders(n,p,function(){console.log("folders created!"),h.resolve()},{listType:o})):h.resolve(),r.default.when(h).then(function(){console.log("get items to create..."),l.getListItems(t,function(e){var s,u,c;console.log("items get!");for(var f=[],p=[],h=0;h<e.length;h++)if((s=e[h]).File_x0020_Size)p.push(s);else if(1===s.BaseType);else{for(u in d={sourceID:s.ID,folder:s.FileDirRef.split(l.formatFolderRelativeUrl(t,{listType:o})).pop()},s)c=s[u],a[u]&&null!==c&&(c.get_lookupId?c.get_lookupId()&&(d[u]=c):d[u]=c);f.push(d)}l.clearCache(),console.log("creating items..."),l.createListItem(n,f,function(){console.log("items created!");var e=r.default.Deferred();p.length?function(e,i){!function o(r){r?l.copyFile(t,n,r.FileLeafRef,r.FileLeafRef,function(){o(e.shift())},{sourceFolder:r.FileDirRef.split("/").slice(3).join("/"),targetFolder:r.FileDirRef.split("/").slice(3).join("/")}):i&&i()}(e.shift())}(p,function(){e.resolve()}):e.resolve(),r.default.when(e).then(function(){var e=r.default.Deferred();1===o?l.deleteListColumn(n,"Title0",function(){l.deleteListColumn(n,"sourceID",function(){e.resolve()})}):e.resolve(),r.default.when(e).then(function(){console.log("List cloned!"),l.getList(n,function(e){i&&i(e.EntityTypeName)})})})})},{listType:o,recursive:"All",caml:"FSObjType Eq 0"})})},{needSubfolders:!0,listType:o})})})}},{key:"deleteList",value:function(t,n,i){var o,r=this;function s(){"string"===e(t)&&(t=r.getListData(t));var i=new SP.ClientContext(t.path),o=i.get_web().get_lists();(r.constants.GUID_MASK.test(t.title)?o.getById(t.title):o.getByTitle(t.title)).deleteObject(),r.execute(i,function(){r.requestsCount.delete.list++,console.log("deleted list: "+t.title),n&&n()})}i&&(o=i.silent),o?s():new AuraForm([{title:"Удаление списка"},{question:"Вы уверенны, что хотите удалить список "+t+"?"},{labeled:{label:"Пароль"}}],function(e){"puz"===e[2]&&s()})}},{key:"mergeLists",value:function(t,n,i,o){var r,s,a,l,u,c,f,p,d=[],h=[],g="merge",y=this;if(o||(o={}),o&&(r=o.sourceKey||"ID",s=o.targetKey||"ID",a=o.columns,l=o.caml||'<IsNotNull><FieldRef Name="ID"/></IsNotNull>',g=o.mode||"merge",p=o.mediator),"object"===e(a))for(var m in a)if(h.push(m),"array"===e(a[m])){u=a[m];for(var v=0;v<u.length;v++)d.push(u[v])}else d.push(a[m]);else d=h=a;function b(e){console.log("Merging failed!"),console.log(e)}this.getListColumns(t,d,function(o){y.getListColumns(n,h,function(u){for(var d in u){var h=u[d];if("object"===e(a)){if("array"===e(a[d])){for(var m=0;m<a[d].length;m++)if(f=a[d][m],(c=o[f]).TypeAsString!==h.TypeAsString)return void b('"'+f+'" type in source is "'+c.TypeAsString+'", in target is "'+h.TypeAsString+'"')}else if(f=a[d],(c=o[f]).TypeAsString!==h.TypeAsString)return void b('"'+f+'" type in source is "'+c.TypeAsString+'", in target is "'+h.TypeAsString+'"')}else if((c=o[d]).TypeAsString!==h.TypeAsString)return void b('"'+d+'" type in source is "'+c.TypeAsString+'", in target is "'+h.TypeAsString+'"')}console.log("waiting for source list..."),y.getList(t,function(o){console.log("source list get");var u=o.get_itemCount();console.log("waiting for source items..."),y.getListItems(t,function(t){console.log("source items get");var o=Object.keys(t).length;o?(console.log("waiting for target list..."),y.getList(n,function(r){console.log("target list get");var c=r.get_itemCount();console.log("waiting for target items..."),y.getListItems(n,function(r){var s,l,f,d,h,m,v=Object.keys(r).length,b=[];for(var S in console.log("target items get"),console.log("source: ",u,o),console.log("target: ",c,v),r)if(s={},l=r[S],f=t[S]){if("object"===e(a)){for(var x in a)if(d=a[x],m=l[x],"array"===e(d)){for(var _=0;_<d.length;_++)if(void 0!==(h=f[d[_]])||null!==h){if("merge"===g&&("array"===e(m)?m.length:m))continue;if(!h)continue;s[x]=p?p(h):h;break}}else for(var x in a)if(void 0!==(h=f[a[x]])||null!==h){if("merge"===g&&("array"===e(m)?m.length:m))continue;if(!h)continue;s[x]=p?p(h):h}}else for(_=0;_<a.length;_++)if(h=f[x=a[_]],m=l[x],void 0!==h||null!==h){if("merge"===g&&("array"===e(m)?m.length:m))continue;if(!f[x])continue;s[x]=p?p(h):h}Object.keys(s).length&&(s.ID=l.ID,b.push(s))}b.length?(console.log(b),y.updateListItem(n,null,b,i)):(console.log("nothing to merge"),i&&i())},{mapBy:s,caml:'<View Scope="RecursiveAll">\t\t\t\t\t\t\t\t\t\t\t\t\t<Query>\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Where>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<And>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IsNotNull>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FieldRef Name="'+s+'"/>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IsNotNull>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'+l+"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</And>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Where>\t\t\t\t\t\t\t\t\t\t\t\t\t</Query>\t\t\t\t\t\t\t\t\t\t\t\t</View>"})},{isExpanded:!0})):b("Nothing to merge.")},{recursive:"All",mapBy:r})},{isExpanded:!0})},{mapBy:"InternalName"})},{mapBy:"InternalName"})}},{key:"clearList",value:function(t,n,i){var o=t,r=this,s=[];"string"===e(t)&&(t=this.getListData(t)),new AuraForm([{title:"Очистка списка"},{question:"Вы уверенны, что хотите очистить список "+o+"?"},{labeled:{label:"Пароль"}}],function(e){"puz"===e[2]&&(console.time("clear"),function e(){r.getListItems(t,function(o){var a=Object.keys(o);a.length?(console.log("clearing..."),r.deleteListItem(t,Object.keys(o),function(t){s=s.concat(t),e()},i)):(console.log("list is cleared!"),console.log(s.length),n&&n(s))},{mapBy:"ID",viewFields:["ID"],limit:252})}())})}},{key:"checkListsEquality",value:function(e,t,n){var i=this;this.getList(e,function(o){i.getList(t,function(r){console.log(o),console.log(r),o.BaseType!==r.BaseType?(console.log("List's types are not equal"),n&&n()):o.ItemCount!==r.ItemCount?(console.log("Number of items are not equal"),n&&n()):i.getListAllColumns(e,function(o){i.getListAllColumns(t,function(r){var s,a,l,u,c;console.log(o),console.log(r);for(var f=0;f<o.length;f++){if(c=(s=o[f]).TypeAsString,l=s.InternalName,!(a=r[l]))return console.log("Column "+l+" is missed"),void(n&&n());if((u=a.TypeAsString)!==c)return console.log("Type of column "+l+" does not match: "+u+" and "+c),void(n&&n())}function p(e,t){var n,i,o,s,a,l={Order:!0};for(n in e)if(i=e[n],o=t[n],!r[n].ReadOnlyField&&!l[n])switch(r[n].TypeAsString){case"Text":case"Note":case"Number":case"Boolean":if(i!==o)return!1;break;case"Lookup":case"User":if(i&&o)return i.get_lookupId(),o.get_lookupId(),console.log(n),!1;if(i||o)return!1;break;case"LookupMulti":case"UserMulti":if(i.length&&o.length){if(i.length!==o.length)return!1;a=0;for(var u=0;u<i.length;u++){s=i[u].get_lookupId();for(var c=0;c<o.length;c++)s===o[c].get_lookupId()&&a++}if(i.length!==a)return!1}else if(i.length||o.length)return!1}return!0}i.getListItems(e,function(e){i.getListItems(t,function(t){for(var i,o,r=0;r<e.length;r++){i=e[r],o=!1;for(var s=0;s<t.length;s++)targetItemData=t[s],p(i,targetItemData)&&(o=!0);if(!o)return console.log("Item "+i.ID+" is not equal to any item"),console.log(i),void(n&&n())}console.log("Lists are equal"),n&&n()})})},{mapBy:"InternalName"})})})})}},{key:"getListAllColumns",value:function(t,n,i){var o,r,s=this,a=this.cache.columnsAll;if("string"===e(t)&&(t=this.getListData(t)),i&&(r=i.viewFields,o=i.isCached,r&&i.mapBy&&r.push(i.mapBy)),"function"===e(n))if(o&&this.checkNodeExists(a,[t.path,t.title]))n(s.prepareResponseCollection(a[t.path][t.title],i));else{var l=new SP.ClientContext(t.path),u=l.get_web().get_lists(),c=(this.constants.GUID_MASK.test(t.title)?u.getById(t.title):u.getByTitle(t.title)).get_fields();this.createNodeTree(a,[t.path,t.title]),this.load(l,c,r),this.execute(l,function(e,o){s.requestsCount.get.column++,a[t.path][t.title]=c,n(s.prepareResponseCollection(c,i))},function(e,n){console.log(n.get_message()),delete a[t.path][t.title]})}else console.log("cb is not a function")}},{key:"getListColumns",value:function(t,n,i,o){var r,s,a,l,u,c=this,f=[],p=this.cache.columns;if("string"===e(t)&&(t=this.getListData(t)),o&&(r=o.viewFields,a=o.isCached),"function"===e(i))if("array"===e(n)&&n.length){for(var d=new SP.ClientContext(t.path),h=d.get_web().get_lists(),g=(this.constants.GUID_MASK.test(t.title)?h.getById(t.title):h.getByTitle(t.title)).get_fields(),y=0;y<n.length;y++)l=n[y],a&&this.checkNodeExists(p,[t.path,t.title,l])?f[l]=p[t.path][t.title][l]:(u=!0,s=this.constants.GUID_MASK.test(l)?g.getById(l):g.getByInternalNameOrTitle(l),this.createNodeTree(p,[t.path,t.title,l]),this.load(d,s,r),f[l]=s);u?this.execute(d,function(e,n){c.requestsCount.get.column++,c.setCache(p[t.path][t.title],f),i(c.prepareResponseCollection(f,o))},function(e,n){var i=n.get_message(),o=i.split("'")[1];console.log(i),delete p[t.path][t.title][o]}):i(this.prepareResponseCollection(f,o))}else this.getListAllColumns(t,i,o);else console.log("cb is not a function")}},{key:"getListColumn",value:function(t,n,i,o){var r,s,a,l,u=this,c=this.cache.column;if("string"===e(t)&&(t=this.getListData(t)),o&&(r=o.viewFields,s=o.isExpanded,a=o.isCached),"function"===e(i))if(a&&this.checkNodeExists(c,[t.path,t.title,n]))l=c[t.path][t.title][n],i(s?l:l.get_objectData().get_properties());else{var f=new SP.ClientContext(t.path),p=f.get_web().get_lists(),d=(this.constants.GUID_MASK.test(t.title)?p.getById(t.title):p.getByTitle(t.title)).get_fields();field=this.constants.GUID_MASK.test(n)?d.getById(n):d.getByInternalNameOrTitle(n),this.createNodeTree(c,[t.path,t.title,n]),this.load(f,field,r),this.execute(f,function(e,o){u.requestsCount.get.column++,c[t.path][t.title][n]=field,i(s?field:field.get_objectData().get_properties())},function(e,i){console.log(i.get_message()),delete c[t.path][t.title][n]})}else console.log("cb is not a function")}},{key:"createListColumns",value:function(t,n,i){var o=this;"string"===e(t)&&(t=this.getListData(t));for(var r=new SP.ClientContext(t.path),s=r.get_web().get_lists(),a=(this.constants.GUID_MASK.test(t.title)?s.getById(t.title):s.getByTitle(t.title)).get_fields(),l=0;l<n.length;l++){var u,c=n[l],f=a.addFieldAsXml('\t\t\t<Field Type="'+c.type+'" \t\t\tDisplayName="'+c.title+'" \t\t\tName="'+c.title+'" \t\t\tRequired="'+(c.required?"True":"False")+'" \t\t\tGroup="'+c.group+'" \t\t\t/>',!0,SP.AddFieldOptions.defaultValue);switch(c.type){case"Text":u=r.castTo(f,SP.FieldText);break;case"Note":(u=r.castTo(f,SP.FieldMultiLineText)).set_richText(c.isRichText||!1);break;case"Number":u=r.castTo(f,SP.FieldNumber);break;case"Boolean":u=r.castTo(f,SP.Field);break;case"Choice":u=r.castTo(f,c.isMultiple?SP.FieldMultiChoice:SP.FieldChoice);break;case"DateTime":u=r.castTo(f,SP.FieldDateTime);break;case"Lookup":case"LookupMulti":u=r.castTo(f,SP.FieldLookup),c.lookupWebGuid&&u.set_lookupWebId(c.lookupWebGuid),u.set_lookupList(c.lookupListGuid),u.set_lookupField(c.lookupField||"Title"),c.isMultiple&&u.set_allowMultipleValues(!0);break;case"User":case"UserMulti":u=r.castTo(f,SP.FieldUser),c.isMultiple&&u.set_allowMultipleValues(!0)}u&&(u.set_defaultValue(c.defaultValue),u.update())}this.execute(r,function(){o.requestsCount.create.column++,console.log("created columns: "+n.length),i&&i()})}},{key:"createUsersLookupListColumn",value:function(e,t,n,i){t&&this.createListColumns(e,[{title:t,type:"Lookup",lookupField:"Title",lookupListGuid:"eb9b5414-56de-4e99-991a-d4f461aaa348",lookupWebGuid:"4059c5ca-603e-4feb-af85-feae75823c7b",isMultiple:i}],n)}},{key:"createTagsLookupListColumn",value:function(e,t,n){t&&this.createListColumns(e,[{title:t,type:"Lookup",lookupField:"Title",lookupListGuid:"589d2876-1538-48f7-8852-ff2fa517c3ee",lookupWebGuid:"66b74921-6127-4514-804a-0b053e3bdab0",isMultiple:!0}],n)}},{key:"createPublishRequestTypesLookupListColumn",value:function(e,t,n){t&&this.createListColumns(e,[{title:t,type:"Lookup",lookupField:"Title",lookupListGuid:"b5aadd9e-cde3-42d0-b91f-46cee301b7c5",lookupWebGuid:"66b74921-6127-4514-804a-0b053e3bdab0"}],n)}},{key:"deleteListColumn",value:function(t,n,i){var o=this;"string"===e(t)&&(t=this.getListData(t));var r=new SP.ClientContext(t.path),s=r.get_web().get_lists(),a=(this.constants.GUID_MASK.test(t.title)?s.getById(t.title):s.getByTitle(t.title)).get_fields();(this.constants.GUID_MASK.test(n)?a.getById(n):a.getByInternalNameOrTitle(n)).deleteObject(),this.execute(r,function(){o.requestsCount.delete.column++,console.log("deleted column: "+n),"function"===e(i)&&i()})}},{key:"mergeListColumns",value:function(e,t,n,i,o){var r,s,a="merge",l=this;o&&(o.caml||'<IsNotNull><FieldRef Name="'+t+'"/></IsNotNull>',a=o.mode||"merge",r=o.folder,s=o.mediator),this.getListColumns(e,[t,n],function(o){var u=o[t].TypeAsString;o[n].TypeAsString;l.getListItems(e,function(o){for(var r,u,c,f,p=[],d=0;d<o.length;d++)columnItemData=o[d],c=columnItemData[t],f=columnItemData[n],"merge"===a&&null!==f&&f&&f.length||(r={},(u={})[n]=s?s(c):c,r[columnItemData.ID]=u,p.push(r));p.length?l.updateListItem(e,null,p,i):console.log("nothing to merge")},{folder:r,recursive:"All",caml:u+" "+t+" IsNotNull"})},{mapBy:"InternalName"})}},{key:"clearListColumn",value:function(e,t,n,i){var o,r=this;i&&(o=i.folder),this.getListColumn(e,t,function(i){var s=i.TypeAsString;r.getListItems(e,function(i){for(var o,s,a=[],l=0;l<i.length;l++)o=i[l],currentItemData={},(s={})[t]=null,currentItemData[o.ID]=s,a.push(currentItemData);a.length?r.updateListItem(e,null,a,n):console.log("nothing to clear")},{folder:o,recursive:"All",caml:s+" "+t+" IsNotNull"})})}},{key:"setListColumnReadOnly",value:function(e,t,n,i){var o=this;this.getListColumn(e,t,function(e){var t=e.get_context();e.set_readOnlyField(n),o.load(t,e),e.update(),o.execute(t,function(){i&&i(e)})},{isExpanded:!0})}},{key:"getListAllFolders",value:function(t,n,i){var o;"string"===e(t)&&(t=this.getListData(t)),i||(i={}),o=i.needSubfolders,i.listType,i.caml="FSObjType Eq 1",i.recursive=!!o&&"All",i.folder=void 0,this.getListItems(t,function(e){n&&n(e)},i)}},{key:"getListFolder",value:function(t,n,i){var o,r,s,a,l,u=this;if("string"===e(t)&&(t=this.getListData(t)),"function"===e(n)){i&&(o=i.viewFields,s=i.isExpanded,r=i.isCached,i.listType||0,l=i.folder);var c=new SP.ClientContext(t.path),f=c.get_web().getFolderByServerRelativeUrl(this.formatFolderRelativeUrl(t,i)),p=this.cache.folder;r&&this.checkNodeExists(p,[t.path,t.title,l])?(a=p[t.path][t.title][l],n(s?a:a.get_objectData().get_properties())):(this.createNodeTree(p,[t.path,t.title,l]),this.load(c,f,o),this.execute(c,function(){u.requestsCount.get.folder++,p[t.path][t.title][l]=f,n(s?f:f.get_objectData().get_properties())},function(){console.log("Folder does not exist: "+l),n()}))}else console.log("cb is not a function")}},{key:"getFolderByUrl",value:function(e,t,n,i){i&&(isExpanded=i.isExpanded);var o=new SP.ClientContext(e),r=o.get_web().getFolderByServerRelativeUrl(t);this.load(o,r),this.execute(o,function(){n&&n(isExpanded?r:r.get_objectData().get_properties())},function(e,t){console.log(t.get_message()),n&&n()})}},{key:"deleteFolderByUrl",value:function(e,t,n){var i=this;this.getFolderByUrl(e,t,function(o){var r=o.get_context();o.deleteObject(),i.execute(r,function(){console.log("deleted folder: "+e+"/"+t),n&&n()})},{isExpanded:!0})}},{key:"createListFolder",value:function(t,n,i){var o,r,s,a,l=this,u="";i&&(o=i.listType,u=i.folder||"",r=i.contentTypeId,a=i.columns),"string"===e(t)&&(t=this.getListData(t));var c=new SP.ClientContext(t.path),f=c.get_web().get_lists(),p=this.constants.GUID_MASK.test(t.title)?f.getById(t.title):f.getByTitle(t.title),d=u.toString().split("/"),h=d.shift(),g=[h];function y(e,n,u){l.getListItems(t,function(o){var f,d=o[0];if(d&&d.get_item("FileLeafRef").toLowerCase()===e.toLowerCase())n.length?(e=n.shift(),g.push(e),y(e,n,u)):(console.log("folder already exists: "+t.path+"/"+t.title+"/"+e),u&&u(d,d.get_id()));else{var h=new SP.ListItemCreationInformation;h.set_underlyingObjectType(SP.FileSystemObjectType.folder),h.set_leafName(g.join("/")),f=p.addItem(h),r?(f.set_item("ContentTypeId",r),l.setListItem(f,s,a)):(f.set_item("Title",e),f.update()),c.load(f),l.execute(c,function(){l.requestsCount.create.folder++,n.length?(e=n.shift(),g.push(e),y(e,n,u)):(console.log("created folder : "+l.formatFolderRelativeUrl(t,i)),u&&u(f,f.get_id()))})}},{isExpanded:!0,listType:o,viewFields:["ID","FileRef","FileLeafRef","Id","FSObjType"],folder:g.slice(0,g.length-1),caml:"FSObjType Eq 1 and FileRef Eq "+l.formatFolderRelativeUrl(t,{folder:g.join("/"),listType:o})+" with LookupId=false"})}a?this.getListAllColumns(t,function(e){s=e,y(h,d,n)},{mapBy:"InternalName"}):y(h,d,n)}},{key:"createListFolders",value:function(t,n,i,o){var r,s,a,l,u,c=this,f={},p=0,d=t,h=[],g=[];o||(o={}),r=o.listType,"string"===e(t)&&(t=this.getListData(t));for(var y=new SP.ClientContext(t.path),m=y.get_web().get_lists(),v=this.constants.GUID_MASK.test(t.title)?m.getById(t.title):m.getByTitle(t.title),b=0;b<n.length;b++)u=n[b],"object"===e(u)?h.push({parent:[],child:u.title.split("/").slice(1===r?3:4),contentTypeId:u.contentTypeId,columns:u.columns}):h.push({parent:[],child:u.split("/").slice(1===r?3:4)});var S=this.chunkItems(h);function x(){c.getListItems(t,function(e){for(var o=0;o<e.length;o++)folderData=e[o],f[folderData.FileRef.toLowerCase()]=!0;!function e(){g=S.shift();g?function e(n){var i,o,u,d,h,m,b;var S=0;for(var x=0;x<g.length;x++)o=g[x],i=o.parent.join("/"),o.child.length&&(b=c.formatFolderRelativeUrl(t,{listType:r,folder:i+"/"+o.child[0]}).toLowerCase(),f[b]?o.child.length>1&&(o.parent.push(o.child.shift()),m=!0):(f[b]=!0,h=o.child.shift(),o.parent.push(h),(u=new SP.ListItemCreationInformation).set_underlyingObjectType(SP.FileSystemObjectType.folder),u.set_leafName(o.parent.join("/")),d=v.addItem(u),o.contentTypeId&&d.set_item("ContentTypeId",s),o.columns&&c.setListItem(d,a,l),d.set_item("Title",h),d.update(),y.load(d),S++));S?(p+=S,c.execute(y,function(){c.requestsCount.create.folder++,e(n)})):m?e(n):n&&n()}(function(){e()}):(console.log("created "+n.length+" folders and "+(p-n.length)+" subfolders: "+d),i&&i())}()},{recursive:"All",listType:r,viewFields:["ID","FileRef","FileLeafRef","Id","FSObjType"],caml:"FSObjType Eq 1"})}l?this.getListAllColumns(t,function(e){a=e,x()},{mapBy:"InternalName"}):x()}},{key:"deleteListFolder",value:function(t,n,i){var o,r=this;"string"===e(t)&&(t=this.getListData(t)),i&&(o=i.noRecycle,i.listType||0,folderUrl=i.folder);var s=new SP.ClientContext(t.path),a=s.get_web().getFolderByServerRelativeUrl(this.formatFolderRelativeUrl(t,i));o?a.deleteObject():a.recycle(),this.execute(s,function(){r.requestsCount.delete.folder++,console.log((o?"deleted":"recycled")+" folder: "+t.path+"/"+t.title+"/"+folderUrl),n&&n()})}},{key:"clearListFolder",value:function(e,t,n){if(n.folder){var i=this;n.mapBy="ID",this.getListItems(e,function(t){var o=Object.keys(t),r=i.formatFolderRelativeUrl(e,n);for(var s in t)if(t[s].FileDirRef!==r)return void console.log('token elements are not from folder "'+n.folder+'"');o.length?i.deleteListItem(e,Object.keys(t)):console.log("nothing to delete")},n)}}},{key:"getListItems",value:function(t,n,i){var o,r,a,l,u,c,f,p,d,h,g,y,m,v,b,S,x=this,_=new SP.CamlQuery;if("string"===e(t)&&(t=this.getListData(t)),i&&(r=i.viewFields,o=i.caml,a=i.folder,l=i.isCached,f=i.isRaw,d=i.listType||i.baseType,i.listType=d,p=i.isSerial,y=i.debugMode,m=i.limit,v=i.recursive,b=i.orderBy,S=i.extendUsers),"function"===e(n)){var k=t.path,I=new SP.ClientContext(k),T=I.get_web().get_lists(),w=this.constants.GUID_MASK.test(t.title)?T.getById(t.title):T.getByTitle(t.title),C=this.cache.itemsHashed;(o||m||v||void 0!==b)&&(o&&o.set_viewXml?(g=(h=(_=o).get_listItemCollectionPosition())?h.get_pagingInfo():"",u=s.default.MD5(JSON.stringify(_.get_viewXml()+(r&&r.length?r.join():"")+g)),y&&x.camlLog(_.get_viewXml())):(o||!m&&!v&&void 0===b?"object"===e(o)?o=this.getCamlResult(o,m,v,b):/\<View/i.test(o)||(o=this.getCamlResult(this.parseCamlString(o),m,v,b)):o=this.getCamlResult("",m,v,b),_.set_viewXml(o),u=s.default.MD5(o+(r&&r.length?r.join():"")),y&&x.camlLog(o))),l&&this.checkNodeExists(C,[t.path,t.title,u])?n(f?C[t.path][t.title][u]:x.prepareResponseCollection(C[t.path][t.title][u],i)):(this.createNodeTree(C,[t.path,t.title,u]),a&&_.set_folderServerRelativeUrl(this.formatFolderRelativeUrl(t,i)),c=w.getItems(_),this.load(I,c,r),this.execute(I,function(){x.requestsCount.get.item++,C[t.path][t.title][u]=c,f?n(c):S?x.extendItemsAD(x.prepareResponseCollection(c,i),n):n(x.prepareResponseCollection(c,i))},this.onQueryFailed,p))}else console.log("cb is not a function")}},{key:"extendItemsAD",value:function(t,n){var i=[];for(var o in t){var r=t[o];for(var s in r)if(r[s]instanceof Array)for(var a in r[s])r[s][a]instanceof SP.FieldUserValue&&i.push(r[s][a]);else r[s]instanceof SP.FieldUserValue&&i.push(r[s])}function l(t){var n;for(var i in n="object"==e(t)?[t]:t){var o=n[i];o.urlReturn=DATA.environment.link+"profile/type.aspx?user="+o.uid;var r="",s="";o.photo?(r="background-image: url('"+DATA.environment.photo+o.photo+"');",s=o.photoPosition?"background-position: "+o.photoPosition+";":""):r="background-image: url('"+DATA.environment.photoLotus+o.PersonID+"&chache=true.jpg');",o.photoReturn='style="'+r+" "+s+'"'}return t}this.getUsersAD(i,function(e){for(var o in i)e[i[o].get_lookupId()]&&(l(e[i[o].get_lookupId()]),i[o].AD=e[i[o].get_lookupId()]);n(t)},{isCached:!0,mapBy:"uid"})}},{key:"getListItemsGrouped",value:function(t,n,i){var o,r,a,l,u,c,f,p,d=!0,h="Title",g="",y="",m=!0,v=new SP.CamlQuery;if("string"===e(t)&&(t=this.getListData(t)),i&&(o=i.viewFields,h=i.groupBy||"Title",p=i.groupLimit,m=!(!1===i.collapse),g=i.caml||"",r=i.folder,a=i.isCached,c=i.limit,f=i.orderBy,d=i.ascending),"function"===e(n)){var b=new SP.ClientContext(t.path),S=b.get_web().get_lists(),x=this.constants.GUID_MASK.test(t.title)?S.getById(t.title):S.getByTitle(t.title),_=this,k=this.cache.itemsHashed;if(o&&o.length)for(var I=0;I<o.length;I++)y+='<FieldRef Name="'+o[I]+'"/>';if(y="<ViewFields>"+y+"</ViewFields>",u="\t\t<View>\t\t\t<Query>\t\t\t\t<Where>"+g+'</Where>\t\t\t\t<GroupBy Collapse="'+m+'" '+(p?'GroupLimit="'+p+'"':"")+'>\t\t\t\t\t<FieldRef Name="'+h+'"/>\t\t\t\t</GroupBy>\t\t\t\t'+(f?'\t\t\t\t\t<OrderBy>\t\t\t\t\t\t<FieldRef Name="'+f+'" Ascending="'+d+'" />\t\t\t \t\t</OrderBy>':"")+"\t\t\t</Query>\t\t\t"+(o?y:"")+"\t\t\t"+(c?"<RowLimit>"+c+"</RowLimit>":"")+"\t\t</View>","object"===e(g)?(v=g,l=s.default.MD5(JSON.stringify(g))):(v.set_viewXml(u),l=s.default.MD5(u)),a&&this.checkNodeExists(k,[t.path,t.title,l]))n(_.prepareResponseCollection(k[t.path][t.title][l]),i);else{this.createNodeTree(k,[t.path,t.title,l]),r&&v.set_folderServerRelativeUrl(this.formatFolderRelativeUrl(t,i));var T=x.renderListData(u);this.execute(b,function(){_.requestsCount.get.item++;var e=JSON.parse(T.get_value()).Row;n(e),k[t.path][t.title][l]=void 0},this.onQueryFailed)}}else console.log("cb is not a function")}},{key:"getListItemsByIds",value:function(t,n,i,o){var r,s,a,l,u,c,f,p=this,d=this.cache.items,h={};if("function"===e(i)){"string"===e(t)&&(t=this.getListData(t));var g=new SP.ClientContext(t.path);if(o&&(r=o.viewFields,o.isExpanded,s=o.isCached,a=o.mapBy),n)if("array"===e(n)){for(var y=0;y<n.length;y++)(u=n[y])&&(u=u.get_lookupId?u.get_lookupId():~~u,s&&this.checkNodeExists(d,[t.path,t.title,u])?h[u]=d[t.path][t.title][u]:(f=!0,this.createNodeTree(d,[t.path,t.title,u]),l=g.get_web().get_lists(),c=(this.constants.GUID_MASK.test(t.title)?l.getById(t.title):l.getByTitle(t.title)).getItemById(u),this.load(g,c,r),h[u]=c));f?this.execute(g,function(){p.requestsCount.get.item++,p.setCache(d[t.path][t.title],h),i(p.prepareResponseCollection(h,o))},function(e,t){i(a?{}:[]),p.onQueryFailed(e,t)}):(console.timeEnd("itemById"),i(this.prepareResponseCollection(h,o)))}else this.getListItemById(t,n,i,o);else console.log("Ids are missed")}else console.log("cb is not a function")}},{key:"getListItemById",value:function(t,n,i,o){var r,s,a,l;if("function"===e(i))if("string"===e(t)&&(t=this.getListData(t)),o&&(r=o.viewFields,s=o.isExpanded,a=o.isCached),n&&n.get_lookupId&&(n=n.get_lookupId()),n=~~n){var u=this.cache.item;if(a&&this.checkNodeExists(u,[t.path,t.title,n]))l=u[t.path][t.title][n],i(s?l:l.get_fieldValues());else{this.createNodeTree(u,[t.path,t.title,n]);var c=this,f=new SP.ClientContext(t.path),p=f.get_web().get_lists(),d=(this.constants.GUID_MASK.test(t.title)?p.getById(t.title):p.getByTitle(t.title)).getItemById(n);this.load(f,d,r),this.execute(f,function(){c.requestsCount.get.item++,u[t.path][t.title][n]=d,i(s?d:d.get_fieldValues())},function(e,t){i(null),c.onQueryFailed(e,t)})}}else console.log("Id is missed");else console.log("cb is not a function")}},{key:"getListItemDuplicates",value:function(t,n,i){var o,r={};function a(t){var i,o=[];if("array"===e(n))for(var r=0;r<n.length;r++){if(null===(i=t[n[r]])||void 0===i)return;o.push(i.get_lookupId?i.get_lookupId():i)}else{if(null===(i=t[n])||void 0===i)return;o.push(i.get_lookupId?i.get_lookupId():i)}return s.default.MD5(o.join("."))}this.getListItems(t,function(e){for(var t,n,s,l={},u=[],c=0;c<e.length;c++)void 0!==(f=a(o=e[c]))&&(l[f]||(l[f]=[]),l[f].push(o));for(var f in l)if((n=l[f]).length>1){t=n[0];for(c=1;c<n.length;c++)s=n[c],t.Modified.getTime()<s.Modified.getTime()?(r[f]||(r[f]=[]),r[f].push(t),u.push(t.ID),t=s):(r[f]||(r[f]=[]),r[f].push(s),u.push(s.ID))}u.length?i&&i(r,u):(console.log("Duplicates are absent"),i&&i())},{viewFields:["ID","FSObjType","Modified"].concat(n),recursive:!0,limit:5e4,caml:"FSObjType Eq 0"})}},{key:"createListItem",value:function(t,n,i,o){var r,s=[],a=[],l=[],u=!0,c=this;function f(){"array"===e(n)?function e(t){t.length?p(t.shift(),function(n,i,o){s=s.concat(i),a=a.concat(n),l=l.concat(o),e(t)}):i&&i(a,s,l)}(c.chunkItems(n)):p(n,function(e,t,n){i&&i(e,t,n)})}function p(e,n){c.operateListItem(t,function(e,i,o){u?c.createListIndexItem(t,e,function(){n&&n(e,i,o)}):n&&n(e,i,o)},{columns:e,folder:r,operationType:"create"})}"object"===e(o)?(r=o.folder,u=!1!==o.isIndexed):r=o,r?c.createListFolder(t,function(){f()},{folder:r}):f()}},{key:"createListIndexItem",value:function(t,n,i){var o=this.getIndexList(t);if(o){var r=[];if("array"===e(n)){r=[];for(var s=0;s<n.length;s++)r.push(a(n[s]))}else r=a(n);this.operateListItem(this.searchListData,i,{columns:r,operationType:"create"})}else i&&i();function a(e){var n,i,r=e.get_fieldValues(),s=[];if(o.data&&o.data.length)for(var a=0;a<o.data.length;a++){var l=r[o.data[a]];l&&s.push(l)}var u={Title:"search",date:(new Date).getTime(),iAuthor:r.Author.get_lookupId(),iID:r.ID,iHeading:r[o.heading],iType:t,iData:s.join(" "),iDate:r.Created.getTime(),iLink:o.fullLink?o.link:"http://aura.dme.aero.corp/app-pages/"+o.link};for(a=0;a<o.get.length;a++)i=r[n=o.get[a]],u.iLink=u.iLink.replace(new RegExp("{"+n+"}","g"),i.get_lookupId?i.get_lookupId():i);return u}}},{key:"updateListItem",value:function(t,n,i,o,r){var s=!0,a=[],l=[],u=[],c=this;function f(e,i){c.operateListItem(t,function(e,n,o){s?c.updateListIndexItem(t,e,n,function(){i&&i(e,n,o)}):c.deleteListIndexItem(t,n,function(){i&&i(e,n,o)})},{id:n,columns:e,operationType:"update"})}r&&(s=!(!1===r.isIndexed),r.debugMode),"array"===e(i)?function e(t){t.length?f(t.shift(),function(n,i,o){a=a.concat(i),l=l.concat(n),u=u.concat(o),e(t)}):o&&o(l,a,u)}(this.chunkItems(i)):f(i,function(e,t,n){o&&o(e,t,n)})}},{key:"updateListItems",value:function(e,t,n,i){this.updateListItem(e,null,t,n,i)}},{key:"updateListIndexItem",value:function(t,n,i,o){var r,s=this,a=this.getIndexList(t);function l(e,t){var n,i;return e.Modified.getTime()>t.Modified.getTime()&&e[a.heading]!==t.iHeading&&(i={},n={iHeading:e[a.heading]},i[t.ID]=n),i}a?this.getListItems(this.searchListData,function(i){var a,u,c=[];if("array"===e(n))for(var f=0;f<n.length;f++){if(!(a=i[(u=n[f].get_fieldValues()).ID]))return void s.createListIndexItem(t,n,o);(r=l(u,a))&&c.push(r)}else{if(!(a=i[(u=n.get_fieldValues()).ID]))return void s.createListIndexItem(t,n,o);(r=l(u,a))&&c.push(r)}c.length?s.operateListItem(s.searchListData,o,{columns:c,operationType:"update"}):o&&o()},{mapBy:"iID",caml:"iType Eq "+a.query.encode()+" And Number iID Eq "+i}):o&&o()}},{key:"deleteListItem",value:function(t,n,i,o){var r,s=this,a=[];function l(e,n){s.operateListItem(t,function(e,i){s.deleteListIndexItem(t,e,function(){s.TAGS_COLUMN_NAMES[t]?s.deleteListItemTagEntries(e,function(){n&&n(e,i)}):n&&n(e,i)})},{id:e,noRecycle:r,operationType:"delete"})}"string"===e(o)&&(r=o),"object"===e(o)&&(r=!0===r,o.debugMode),"array"===e(n)?function e(t,n){t.length?l(t.shift(),function(n,i){a=a.concat(n),e(t,i)}):i&&i(a,n)}(this.chunkItems(n)):l(n,function(e,t){i&&i(e,t)})}},{key:"deleteListItemsTagEntries",value:function(e,t){var n=this;this.getTagEntriesByRefId(e,function(e){n.deleteTagEntry(Object.keys(e),t)},{mapBy:"ID"})}},{key:"deleteListItemTagEntries",value:function(e,t){var n=this;this.getTagEntriesByRefId(e,function(e){Object.keys(e).length?n.deleteTagEntry(Object.keys(e),t):t&&t()},{mapBy:"ID"})}},{key:"deleteListIndexItem",value:function(t,n,i,o){var r,s=this,a=this.getIndexList(t);a?("object"===e(o)&&(r=o.debugMode),this.getListItems(this.searchListData,function(e){var t=Object.keys(e);t.length?s.operateListItem(s.searchListData,i,{id:t,operationType:"delete"}):i&&i()},{noRecycle:!0,debugMode:r,mapBy:"ID",caml:{AND:[{iID:{Value:n,Type:"Number",Operand:"In"}},{iType:a.query}]}})):i&&i()}},{key:"operateListItem",value:function(t,n,i){var o,s,a,l,u,c,f,p,d,h=[],g=[],y=[],m=this.requests.update,v=this.isListUpdateBusy,b=[],S=!1,x=this;if(i&&(o=i.folder=void 0!==i.folder&&null!==i.folder&&i.folder.toString().length?i.folder:void 0,s=i.noRecycle,a=i.id,l=i.columns,u=i.operationType),t){"string"===e(t)&&(t=this.getListData(t));var _=new SP.ClientContext(t.path),k=_.get_web().get_lists(),I=this.constants.GUID_MASK.test(t.title)?k.getById(t.title):k.getByTitle(t.title);switch(u){case"create":this.getListAllColumns(t,function(r){var s={},a=new SP.ListItemCreationInformation;if("array"==e(l))for(var u=0;u<l.length;u++)(w=l[u]).hasOwnProperty("folder")&&(w.folder&&(a.set_folderUrl(x.formatFolderRelativeUrl(t,{folder:w.folder})),s[w.folder]=!0),delete w.folder),c=I.addItem(a),x.setListItem(c,r,w),_.load(c),g.push(c),y.push(c.get_fieldValues());else o&&a.set_folderUrl(x.formatFolderRelativeUrl(t,i)),c=I.addItem(a),x.setListItem(c,r,l),_.load(c),g.push(c),y.push(c.get_fieldValues());x.execute(_,function(i,r){var a,u,c=[];if(x.requestsCount.create.item++,"array"==e(l)){for(var f=0;f<g.length;f++)c.push(g[f].get_id());u=Object.keys(s).join(", "),console.log("created "+g.length+" items: "+t.path+"/"+t.title+(u?" at folders ("+u+")":"")),n&&n(g,c,y)}else a=g[0].get_id(),console.log("created item: "+a+", "+t.path+"/"+t.title+(o?"/"+o:"")),n&&n(g[0],a,y[0])},x.onQueryFailed)},{viewFields:["TypeAsString","InternalName","Title"],mapBy:"InternalName",isCached:!0});break;case"update":if(a)if(x.checkNodeExists(m,[t.path,t.title,"idStack",a,"columns"])||(x.createNodeTree(m,[t.path,t.title,"idStack",a,"columns"]),m[t.path][t.title].idStack[a].columns={},m[t.path][t.title].idStack[a].cbStack=[]),x.checkNodeExists(v,[t.path,t.title,a])){for(w in l)m[t.path][t.title].idStack[a].columns[w]=l[w];m[t.path][t.title].idStack[a].cbStack.push(n)}else x.createNodeTree(v,[t.path,t.title,a]),v[t.path][t.title][a]=!0,m[t.path][t.title].idStack[a].columns={},this.getListAllColumns(t,function(e){var i=I.getItemById(a);x.setListItem(i,e,l),_.load(i),x.execute(_,function(e,r){delete v[t.path][t.title][a];var s=m[t.path][t.title].idStack[a].columns;x.requestsCount.update.item++,console.log("updated item: "+a+", "+t.path+"/"+t.title+(o?"/"+o:"")),n&&n(i,a,i.get_fieldValues()),Object.keys(s).length&&x.updateListItem(t,a,s,function(e,n){for(var o=m[t.path][t.title].idStack[n].cbStack;o.length;)o.shift()(e,n,i.get_fieldValues());delete m[t.path][t.title].idStack[n]})},x.onQueryFailed)},{viewFields:["TypeAsString","InternalName","Title"],mapBy:"InternalName",isCached:!0});else if(l.length){x.checkNodeExists(m,[t.path,t.title,"cbStack"])||(x.createNodeTree(m,[t.path,t.title,"cbStack"]),m[t.path][t.title].cbStack=[]);for(var T=0;T<l.length;T++)if(void 0!==(w=l[T]))if(w.ID?(p=w.ID,delete w.ID,d=w):(p=Object.keys(w)[0],d=w[p]),b[T]=r.default.Deferred(),x.checkNodeExists(m,[t.path,t.title,"idStack",p,"columns"])||(x.createNodeTree(m,[t.path,t.title,"idStack",p,"columns"]),m[t.path][t.title].idStack[p].columns={}),x.checkNodeExists(v,[t.path,t.title,p])){for(var w in d)m[t.path][t.title].idStack[p].columns[w]=d[w];S||(m[t.path][t.title].cbStack.push(n),S=!0),console.log("id is duplicated: "+p),b[T].reject()}else x.createNodeTree(v,[t.path,t.title,p]),v[t.path][t.title][p]=!0,delete m[t.path][t.title].idStack[p],function(e,n,i){x.getListAllColumns(t,function(t){var o=I.getItemById(n);x.setListItem(o,t,i),_.load(o),g.push(o),y.push(o.get_fieldValues()),b[e].resolve()},{viewFields:["TypeAsString","InternalName","Title"],mapBy:"InternalName",isCached:!0})}(T,p,d);r.default.when.apply(x,b).done(function(){x.execute(_,function(e,i){var r,s,a,l=[],u=[];x.requestsCount.update.item++;for(var c=0;c<g.length;c++)f=g[c].get_id(),u.push(f),delete v[t.path][t.title][f];for(var f in console.log("updated "+g.length+" items: "+t.path+"/"+t.title+(o?"/"+o:"")),n&&n(g,u,y),s=m[t.path][t.title].idStack)r=s[f],Object.keys(r.columns).length&&(columnToUpdate={},columnToUpdate[f]=r.columns,l.push(columnToUpdate));l.length&&x.updateListItem(t,null,l,function(e,n){for(a=m[t.path][t.title].cbStack;a.length;)a.shift()(e,n,y)})},x.onQueryFailed)})}break;case"delete":if(f=s?"deleteObject":"recycle","array"==e(a))for(T=0;T<a.length;T++)currentId=a[T],(c=I.getItemById(currentId.get_lookupId?currentId.get_lookupId():~~currentId))[f](),h.push(currentId);else{if(!a)return console.log("nothing to delete"),void(n&&n());(c=I.getItemById(~~a))[f]()}this.execute(_,function(){x.requestsCount.delete.item++,h.length?(console.log((s?"deleted ":"recycled ")+h.length+" items: "+t.path+"/"+t.title+(o?"/"+o:"")),n&&n(h)):(console.log((s?"deleted item: ":"recycled item: ")+a+", "+t.path+"/"+t.title+(o?"/"+o:"")),n&&n(a))},function(e,t){n&&n(null,t),x.onQueryFailed(e,t)})}}else console.log("listData is missed")}},{key:"deleteListItemEmpties",value:function(e,t,n){var i=this;this.getListItems(e,function(t){i.deleteListItem(e,Object.keys(t),n)},{viewFields:["ID",t],mapBy:"ID",recursive:"All",caml:"FSObjType Eq 0 and "+t+" IsNull"})}},{key:"deleteListItemDuplicates",value:function(e,t,n){var i=this;this.getListItemDuplicates(e,t,function(t,o){o&&o.length&&i.deleteListItem(e,o,n)})}},{key:"deleteAllListItems",value:function(e,t){var n=this;this.getListItems(e,function(i){n.deleteListItem(e,Object.keys(i),t)},{mapBy:"ID",viewFields:["ID"]})}},{key:"getFiles",value:function(t,n,i){var o,r,s,a=this;i&&(o=i.isRaw,r=i.folder),"string"===e(t)&&(t=this.getListData(t));var l=new SP.ClientContext(t.path),u=l.get_web();s=r?u.getFolderByServerRelativeUrl(t.path+"/"+t.title+"/"+r).get_files():u.get_lists().getByTitle(t.title).get_rootFolder().get_files(),this.load(l,s),this.execute(l,function(){n&&n(o?s:a.prepareResponseCollection(s,i))})}},{key:"getFile",value:function(t,n,i,o){var r,s;o&&(r=o.isExpanded,s=o.folder),"string"===e(t)&&(t=this.getListData(t));var a=new SP.ClientContext(t.path);console.log(t.path+"/"+t.title+"/"+(s?s+"/":"")+n);var l=a.get_web().getFileByServerRelativeUrl(t.path+"/"+t.title+"/"+(s?s+"/":"")+n);this.load(a,l),this.execute(a,function(){i&&i(r?l:l.get_objectData().get_properties())})}},{key:"getFileByRelUrl",value:function(e,t,n,i){var o;i&&(o=i.isExpanded,i.folder);var r=new SP.ClientContext(e),s=r.get_web().getFileByServerRelativeUrl(t);this.load(r,s),this.execute(r,function(){n&&n(o?s:s.get_objectData().get_properties())},function(e,t){console.log(t.get_message()),n&&n()})}},{key:"deleteFileByRelUrl",value:function(e,t,n){var i=this;this.getFileByRelUrl(e,t,function(o){var r=o.get_context();o.deleteObject(),i.execute(r,function(){console.log("deleted file at: "+e+"/"+t),n&&n()},function(e,t){n&&n(t.get_message())})},{isExpanded:!0})}},{key:"uploadFile",value:function(t,n,i,o){var r=this;function s(e){var s,a,l,u,c,f,p,d,h="",g=new SP.FileCreationInformation;if(e?(d=(l=e.get_context()).get_web().get_lists(),r.constants.GUID_MASK.test(t.title)?d.getById(t.title):d.getByTitle(t.title),a=e.get_folder?e.get_folder():e):(d=(l=new SP.ClientContext(t.path)).get_web().get_lists(),a=(r.constants.GUID_MASK.test(t.title)?d.getById(t.title):d.getByTitle(t.title)).get_rootFolder()),n.hasOwnProperty("base64"))g.set_content(n.base64);else{if(!n.hasOwnProperty("arrayBuffer"))return console.log("no converter for file: "),console.log(n),void(i&&i());for(p=0,c=(s=new Uint8Array(n.arrayBuffer)).length;p<c;p+=1)h+=String.fromCharCode(s[p]);g.set_content(btoa(h))}g.set_overwrite(!0),g.set_url(n.filename);var y=a.get_files().add(g);if(u=y.get_listItemAllFields(),n.columns){for(f in n.columns)u.set_item(f,n.columns[f]);u.update()}r.load(l,u),r.load(l,y),r.execute(l,function(){r.requestsCount.create.file++,console.log("uploaded file: "+(n.columns?n.columns.Title:n.filename)+", "+r.formatFolderRelativeUrl(t,{folder:o,listType:1})+"/"+n.filename),i&&i(y,u.get_id())},r.onQueryFailed)}n?("string"===e(n)&&(n={base64:"",filename:n}),"string"===e(t)&&(t=this.getListData(t)),o?r.createListFolder(t,function(e){s(e)},{folder:o,listType:1}):s()):console.log("filedata is missed")}},{key:"uploadFileByRelUrl",value:function(t,n,i,o,r){var s,a,l,u,c,f=this;function p(){var e="",n=new SP.FileCreationInformation,r=new SP.ClientContext(t);if(i.hasOwnProperty("base64"))n.set_content(i.base64);else{if(!i.hasOwnProperty("arrayBuffer"))return console.log("no converter for file: "),console.log(i),void(o&&o());for(s=new Uint8Array(i.arrayBuffer),l=0,a=s.length;l<a;l+=1)e+=String.fromCharCode(s[l]);n.set_content(btoa(e))}n.set_overwrite(!0),n.set_url(i.filename);var u=r.get_web().getFolderByServerRelativeUrl(c).get_files().add(n);f.load(r,u),f.execute(r,function(){f.requestsCount.create.file++,console.log("uploaded file: "+(i.columns?i.columns.Title:i.filename)+", "+c+"/"+i.filename),o&&o(u)},f.onQueryFailed)}i?("string"===e(i)&&(i={base64:"",filename:i}),r&&(u=r.folder),n?u?(c=t+"/"+n+"/"+u,f.createListFolder(t+"/"+n,function(e){p()},{folder:u,listType:1})):(c=t+"/"+n,p()):(c=t,p())):console.log("filedata is missed")}},{key:"updateFile",value:function(t,n,i,o){var r=this;this.getList(t,function(s){"string"===e(t)&&(t=r.getListData(t));var a=new SP.ClientContext(t.path),l=r.formatFolderRelativeUrl(t,{folder:o,listType:1})+"/"+n.filename,u=a.get_web().getFileByServerRelativeUrl(l);r.load(a,u,"ListItemAllFields"),r.execute(a,function(){r.requestsCount.update.file++;var e=u.get_listItemAllFields(),t=e.get_context();for(var o in n.columns)e.set_item(o,n.columns[o]);e.update(),r.execute(t,function(){console.log("updated file: "+n.columns.Title+", "+l),i&&i(u,e.ID)},r.onQueryFailed)},r.onQueryFailed)},{isCached:!0,viewFields:["Title","EntityTypeName"]})}},{key:"uploadFileREST",value:function(t,n,i,o){var s=function(){};"string"===e(t)&&(t=this.getListData(t)),o&&(s=o.onProgress||function(){}),this.getList(t,function(e){r.default.ajax({url:t.host+t.path+"/_layouts/15/UploadEx.aspx?List={"+e.Id+"}",data:n,cache:!1,headers:{"Upgrade-Insecure-Requests":1,"Cache-Control":"max-age=0",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8"},contentType:!1,processData:!1,method:"POST",type:"POST",success:function(e){i&&i(e)},xhr:function(){var e=new window.XMLHttpRequest;function t(e,t){t.lengthComputable&&e&&e(parseFloat((t.loaded/t.total*100).toFixed(2)))}return e.upload.addEventListener("progress",t.bind(this,s),!1),e.addEventListener("progress",t.bind(this,s),!1),e}})},{isCached:!0})}},{key:"getFileREST",value:function(t,n,i,o){var s,a,l,u;"string"===e(t)&&(t=this.getListDataREST(t)),o&&(s=o.folder,a=o.isRaw,l=o.needValue),l||a||(u={Accept:"application/json;odata=verbose"}),r.default.ajax({url:t.host+t.path+"/_api/web/getfilebyserverrelativeurl('"+(t.path||"")+"/"+t.title+"/"+(s?s+"/":"")+n+"')"+(l?"/$value":""),method:"GET",headers:u,binaryStringResponseBody:!0,success:function(e){a||l?i&&i(e):i&&i(e.d)},error:function(e){try{i&&i(e.statusText)}catch(e){console.log(e)}}})}},{key:"moveFile",value:function(e,t,n,i,o,r){r||(r={}),r.isMove=!0,this.copyOrMoveFile(e,t,n,i,o,r)}},{key:"copyFile",value:function(e,t,n,i,o,r){this.copyOrMoveFile(e,t,n,i,o,r)}},{key:"copyOrMoveFile",value:function(t,n,i,o,r,s){var a,l,u,c=this;function f(){c.getFile(t,i,function(e){var t=c.formatFolderRelativeUrl(n,{folder:l,listType:1})+"/"+(o||i);e[u?"moveTo":"copyTo"](t,1),c.execute(e.get_context(),function(){console.log('file "'+i+'" '+(u?"moved":"copied")+" to "+t),r&&r()})},{folder:a,isExpanded:!0})}s&&(s.isExpanded,a=s.sourceFolder,l=s.targetFolder,u=s.isMove),"string"===e(t)&&(t=this.getListData(t)),n&&"string"===e(n)&&(n=this.getListData(n)),l?this.getListFolder(n,function(e){e?f():c.createListFolder(n,function(){f()},{folder:l,listType:1})},{folder:l,listType:1}):f()}},{key:"moveFileREST",value:function(e,t,n,i,o,r){r||(r={}),r.isMove=!0,this.copyOrMoveFileREST(e,t,n,i,o,r)}},{key:"copyFileREST",value:function(t,n,i,o,s,a){a||(a={});var l=a.sourceFolder,u=a.targetFolder;"string"===e(t)&&(t=this.getListDataREST(t)),"string"===e(n)&&(n=this.getListDataREST(n));var c=t.path+"/"+t.title+"/"+(l?l+"/":"")+i,f=n.path+"/"+n.title+"/"+(u?u+"/":"")+o;this.getRequestDigestREST(function(e){r.default.ajax({type:"POST",contentType:"application/json;odata=verbose",url:n.host+t.path+"/_api/web/getfilebyserverrelativeurl('"+c+"')/copyTo('"+f+"')",headers:{Accept:"application/json;odata=verbose","X-RequestDigest":e},success:function(e){console.log("copied file: from "+c+" to "+f),s&&s(e)},error:function(e){console.log(e)}})})}},{key:"copyOrMoveFileREST",value:function(e,t,n,i,o,r){var s,a,l=this;r||(r={}),r.isExpanded,s=r.sourceFolder,r.targetFolder,a=r.isMove,l.getFileREST(e,n,function(s){r.content=s.body,l.addFileREST(t,i,function(t){a?l.deleteFileREST(e,n,o,{noRecycle:!0}):o&&o(t)},r)},{folder:s,isRaw:!0,needValue:!0})}},{key:"addFileREST",value:function(t,n,i,o){var s,a="";"string"===e(t)&&(t=this.getListDataREST(t)),o&&(s=o.folder,a=o.content||""),r.default.ajax({url:t.host+t.path+"/_api/web/getfolderbyserverrelativeurl('"+(t.path||"")+"/"+t.title+"/"+(s?"/"===s?"/":s+"/":"")+"')/files/add(url='"+n+"', overwrite=true)",method:"POST",headers:{Accept:"application/json; odata=verbose"},binaryStringRequestBody:!0,body:a,success:function(e){i&&i(e)},error:function(e){try{i&&i(e.statusText)}catch(e){console.log(e)}}})}},{key:"addFile",value:function(e,t,n,i){this.uploadFile(e,t,n,i)}},{key:"deleteFileREST",value:function(t,n,i,o){var s,a,l=t;"string"===e(t)&&(t=this.getListDataREST(t)),o&&(s=o.folder,a=o.noRecycle),r.default.ajax({url:t.host+t.path+"/_api/web/getfilebyserverrelativeurl('"+(t.path||"")+"/"+t.title+"/"+(s?s+"/":"")+n+"')"+(a?"":"/recycle()"),method:"POST",headers:{"X-HTTP-Method":"DELETE"},success:function(e){console.log("deleted file: "+n+", "+l),i&&i()},error:function(e){try{i&&i(e.statusText)}catch(e){console.log(e)}}})}},{key:"getCurrentUser",value:function(t,n){var i,o,r=this,s=this.cache;if(n&&(i=n.isExpanded,o=n.isCached),"function"===e(t))if(o&&this.checkNodeExists(s,["currentUser"]))t(i?s.currentUser:s.currentUser.get_objectData().get_properties());else{var a=new SP.ClientContext.get_current,l=a.get_web().get_currentUser();this.createNodeTree(s,["currentUser"]),a.load(l),this.execute(a,function(){r.requestsCount.get.user++,s.currentUser=l,t(i?l:l.get_objectData().get_properties())},this.onQueryFailed)}else console.log("cb is not a function")}},{key:"getCurrentUserAD",value:function(t,n){var i,o=this.cache;"function"===e(t)?(n?i=n.isCached:n={},i&&this.checkNodeExists(o,["currentUserAD"])?t(o.currentUserAD):(n.caml="Number uid Eq "+"<UserID/>".encode(),this.createNodeTree(o,["currentUserAD"]),this.getListItems("/AM/UsersAD",function(e){o.currentUserAD=e,t(e[0])},n))):console.log("cb is not a function")}},{key:"getUserById",value:function(t,n,i){var o,r,s=this,a=this.cache;if(i&&(o=i.isExpanded,r=i.isCached),"function"===e(n))if(r&&this.checkNodeExists(a,["user"]))n(o?a.currentUser:a.currentUser.get_objectData().get_properties());else{var l=new SP.ClientContext.get_current,u=l.get_web().getUserById(t);this.createNodeTree(a,["user"]),l.load(u),this.execute(l,function(){s.requestsCount.get.user++,a.currentUser=u,n(o?u:u.get_objectData().get_properties())},this.onQueryFailed)}else console.log("cb is not a function")}},{key:"getUsersAD",value:function(t,n,i){var o;if("function"===e(n)){if(!t)return console.log("No users to get"),void n(null);!i&&(i={}),"array"!==e(t)&&(t=[t]);var r,s="",a='<IsNull><FieldRef Name="ID"/></IsNull>',l=[];!function t(n){for(var i,o=0;o<n.length;o++)i=n[o],"array"===e(i)?t(i):l.push(i)}(t);for(var u=l.length,c=Math.ceil(u/500),f=0,p=1;p<=c;p++){for(var d=u<500*p?u%500:500,h=0;h<d;h++)switch((o=l[f++]).constructor.getName()){case"String":case"Number":s+='<Value Type="Number">'+o+"</Value>";break;case"Object":o.uid&&(s+='<Value Type="Number">'+o.uid+"</Value>");break;case"SP.User":s+='<Value Type="Number">'+o.get_id()+"</Value>";break;case"SP.FieldUserValue":s+='<Value Type="Number">'+o.get_lookupId()+"</Value>";break;case"SP.ListItem":(r=o.get_item("uid"))&&(s+='<Value Type="Number">'+r+"</Value>")}a="<Or>"+a+'<In><FieldRef Name="uid"/><Values>'+s+"</Values></In></Or>",s=""}i.caml="<View><Query><Where>"+a+"</Where></Query></View>",this.getListItems("/AM/UsersAD",function(e){n&&n(e)},i)}else console.log("cb is not a function")}},{key:"updateUserItem",value:function(e,t,n){this.updateListItem("/b327d30a-b9bf-4728-a3c1-a6b4f0253ff2",e,t,n)}},{key:"checkUserNames",value:function(){this.getListItems("/AM/UsersAD",function(e){for(var t={},n=[],i=[],o=[],r=[],s=0;s<e.length;s++)userData=e[s],userData.Title?(titleSplitsLength=userData.Title.trim().split(/\s\s*/).length,t[titleSplitsLength]||(t[titleSplitsLength]=0),t[titleSplitsLength]++,3!==titleSplitsLength&&(n.push(userData.Title),/\s\s+|\s$/g.test(userData.Title)&&i.push(userData.Title),2===titleSplitsLength&&r.push(userData.Title))):(t[0]++,o.push(userData.ID));console.log(t),console.log(n),console.log(i),console.log(o),console.log(r)})}},{key:"getUserItemById",value:function(e,t){this.getListItemById("/b327d30a-b9bf-4728-a3c1-a6b4f0253ff2",e,t)}},{key:"getUserADByUid",value:function(e,t){this.getListItems("/AM/UsersAD",function(e){t(e.length?e[0]:null)},{caml:"Number uid Eq "+e})}},{key:"getUsersADByUid",value:function(e,t){this.getListItems("/AM/UsersAD",function(e){t(e)},{caml:"Number uid Eq "+e})}},{key:"getUserADByLogin",value:function(e,t){this.getListItems("/AM/UsersAD",function(e){t(e.length?e[0]:null)},{caml:"Login Eq "+e})}},{key:"getUsersADByLogin",value:function(e,t){this.getListItems("/AM/UsersAD",function(e){t(e)},{caml:"Login Eq "+e})}},{key:"getUserADByUidOrLogin",value:function(t,n){"number"===e(t)||~~t?this.getUserADByUid(t,n):this.getUserADByLogin(t,n)}},{key:"getUsersADByUidOrLogin",value:function(t,n){"number"===e(t)||~~t?this.getUsersADByUid(t,n):this.getUsersADByLogin(t,n)}},{key:"getUserADByName",value:function(e,t){this.getListItems("/AM/UsersAD",function(e){t(e)},{caml:"Title Contains "+e})}},{key:"fixUserName",value:function(e,t){var n=this;n.getUserItemById(e,function(i){n.getUserADById(e,function(o){i.Title!==o.Title?n.updateUserItem(e,{Title:o.Title},t):(console.log("user has proper name"),t&&t())})})}},{key:"deleteUsersADWithoutUid",value:function(){var e=this;this.getListItems("/AM/UsersAD",function(t){var n=Object.keys(t);n.length&&e.deleteListItem("/AM/UsersAD",n)},{mapBy:"ID",caml:"uid IsNull Or Number uid Eq 0"})}},{key:"createDiscussion",value:function(e,t,n){var i=this;this.getList(e,function(e){var o=e.get_context(),r=SP.Utilities.Utility.createNewDiscussion(o,e,t.Subject);for(var s in t)"Subject"!==s&&r.set_item(s,t[s]);r.update(),o.load(r),i.execute(o,function(){i.requestsCount.create.item++,n&&n(r,r.get_id())},i.onQueryFailed)},{isExpanded:!0})}},{key:"createReply",value:function(e,t,n,i){var o=this;this.getListItemById(e,t,function(e){var t=e.get_context(),r=SP.Utilities.Utility.createNewDiscussionReply(t,e);for(var s in n)r.set_item(s,n[s]);r.update(),t.load(r),o.execute(t,function(){o.requestsCount.create.item++,i&&i(r,r.get_id())},o.onQueryFailed)},{isExpanded:!0})}},{key:"getAllRecycledItems",value:function(e,t,n){var i;n&&(i=n.viewFields);var o=this,r=new SP.ClientContext(e),s=r.get_web().get_recycleBin();this.load(r,s,i),this.execute(r,function(){console.log(s),t&&t(o.prepareResponseCollection(s,n))},this.onQueryFailed)}},{key:"restoreAllListItems",value:function(t){var n=this;"string"===e(t)&&(t=this.getListData(t));new SP.ClientContext(t.path);this.getAllRecycledItems(t.path,function(e){var i=QUERY.chunkItems(e);!function e(o){var r;if(o){for(var s=0;s<o.length;s++){var a=o[s];new RegExp("Intellect/Lists/"+t.title).test(a.get_dirName())&&(r=a.get_context(),a.restore(),n.load(r,a))}n.execute(r,function(){console.log("restored items: "+o.length),e(i.shift())},n.onQueryFailed)}else console.log("restore complete")}(i.shift())},{isExpanded:!0})}},{key:"clearRecycleBin",value:function(e,t){var n=new SP.ClientContext(e),i=n.get_web().get_recycleBin();i.deleteAll(),this.load(n,i),this.execute(n,function(){t&&t()},this.onQueryFailed)}},{key:"getListAggregations",value:function(t,n,i,o){var r,s,a,l="",u='<IsNotNull><FieldRef Name="ID"/></IsNotNull>',c='<IsNotNull><FieldRef Name="ID"/></IsNotNull>';o&&(r=o.folder,l=o.caml),r=r?'<Eq><FieldRef Name="FileDirRef"></FieldRef><Value Type="Lookup">'+this.formatFolderRelativeUrl(t,o)+"</Value></Eq>":"";var f="";if("object"===e(n)){for(var p in t="string"===e(t)?this.getListData(t):t,n)s=n[p],"string"===(a=e(s))?f+='<FieldRef Name="'+p+'" Type="'+s+'"/>':"object"===a&&(f+='<FieldRef Name="'+p+'" Type="'+s.type+'"/>',s.caml&&(u="<Or>"+(u='<IsNull><FieldRef Name="ID"/></IsNull>')+("object"===e(s.caml)?this.getCamlQuery(s.caml):this.parseCamlString(s.caml))+"</Or>"));c=r&&l?"<And>"+r+l+"</And>":r||l,u&&(c=c?"<And>"+c+u+"</And>":u);var d=new SP.ClientContext(t.path),h=d.get_web().get_lists(),g='\t\t\t<View Scope="RecursiveAll">\t\t\t\t<Query><Where>'+c+"</Where></Query>\t\t\t\t<Aggregations>"+f+"</Aggregations>\t\t\t</View>",y=(this.constants.GUID_MASK.test(t.title)?h.getById(t.title):h.getByTitle(t.title)).renderListData(g);this.execute(d,function(e,t){var o=JSON.parse(y.get_value()).Row[0],r={};for(var s in n)r[s]=0;for(var a in o)splittedName=a.split(".")[0],n.hasOwnProperty(splittedName)&&(r[splittedName]=~~o[a]);i&&i(r)},this.onQueryFailed)}}},{key:"getTagRefItemByRefIdAndRefListData",value:function(e,t,n){this.getListItemById(e,t,function(e){n&&n(e)})}},{key:"getTagRefItemByIdAndRefListData",value:function(e,t,n){this.getListItems(e,function(e){n&&n(e[0])},{recursive:!0,caml:"Lookup "+this.TAGS_COLUMN_NAMES[e]+" Includes "+t})}},{key:"getTagRefItemsByIdAndRefListData",value:function(e,t,n){t&&t[0]&&t[0].get_lookupId&&(t=t.map(function(e){return e.get_lookupId()})),this.getListItems(e,function(e){n&&n(e)},{recursive:!0,caml:"Lookup "+this.TAGS_COLUMN_NAMES[e]+" Includes "+t})}},{key:"getTagRefItemByRefIdAndId",value:function(e,t,n,i){this.getListItems(e,function(e){i&&i(e[0])},{recursive:!0,caml:"Lookup "+this.TAGS_COLUMN_NAMES[e]+" Includes "+t+" and ID Eq "+n})}},{key:"getTagRefItemById",value:function(e,t){var n=this;this.getTagEntryById(e,function(e){n.getTagRefItemByTagEntry(e,function(e){t&&t(e)})})}},{key:"getTagRefItemByIdIncludes",value:function(e,t){var n,i,o=[],s=this;for(var a in this.TAGS_COLUMN_NAMES)n=r.default.Deferred(),o.push(n),function(t,n){s.getTagRefItemByIdAndRefListData(t,e,function(e){e&&(i={refId:e.ID,refListData:t}),n.resolve()})}(a,n);r.default.when.apply(this,o).done(function(){t&&t(i)})}},{key:"getTagListDataByRefIdAndIdIncludes",value:function(e,t,n){var i,o,s=[],a=this;for(var l in this.TAGS_COLUMN_NAMES)i=r.default.Deferred(),s.push(i),function(n,i){a.getTagRefItemByRefIdAndId(n,e,t,function(e){e&&(o=n),i.resolve()})}(l,i);r.default.when.apply(this,s).done(function(){n&&n(o)})}},{key:"getTagRefItemByTagEntry",value:function(t,n){var i=this;"object"===e(t)?t.refId?t.refListData?this.getTagRefItemByRefIdAndRefListData(t.refListData,t.refId,function(e){e&&i.checkTagRefItemById(t.ID,e[i.TAGS_COLUMN_NAMES[t.refListData]])?n():n({ID:t.ID})}):this.getTagListDataByRefIdAndIdIncludes(t.ID,t.refId,function(e){n(e?{ID:t.ID,columns:{refListData:e}}:{ID:t.ID})}):t.refListData?this.getTagRefItemByIdAndRefListData(t.refListData,t.ID,function(e){e&&i.checkTagRefItemById(t.ID,e[i.TAGS_COLUMN_NAMES[t.refListData]])?n({ID:t.ID,columns:{refId:e.ID}}):n({ID:t.ID})}):this.getTagRefItemByIdIncludes(t.ID,function(e){e?n&&n({ID:t.ID,columns:e}):n&&n({ID:t.ID})}):console.log("tagData is missed")}},{key:"getTagEntryById",value:function(e,t){this.getListItemById(this.tagsListData,e,function(e){t&&t(e)})}},{key:"getTagEntryDuplicates",value:function(e){this.getListItemDuplicates(this.tagsListData,["refId","refListData","tag"],function(t,n){e&&(t?e(t,n):e())})}},{key:"getTagEntryEmptyRefIds",value:function(e){this.getListItems(this.tagsListData,function(t){e&&e(t)},{recursive:!0,caml:"Number refId IsNull and refListData IsNotNull"})}},{key:"getTagEntryEmptyListDatas",value:function(e){this.getListItems(this.tagsListData,function(t){e&&e(t)},{recursive:!0,caml:"refListData IsNull"})}},{key:"getTagEntryEmptyRefTag",value:function(e){this.getListItems(this.tagsListData,function(t){e&&e(t)},{recursive:!0,caml:"Lookup tag IsNull"})}},{key:"getTagEntriesByRefId",value:function(t,n,i){t?(i||(i={}),operand="array"===e(t)?"In":"Eq",i.recursive=!0,i.caml="Number refId "+operand+" "+t,this.getListItems(this.tagsListData,function(e){n&&n(e)},i)):(console.log("refId is missed"),n&&n())}},{key:"getTagAllEntries",value:function(e,t){t||(t={}),t.caml="FSObjType Eq 0 with LookupId=false",t.recursive=!0,this.getListItems(this.tagsListData,function(t){e&&e(t)},t)}},{key:"getTagFolder",value:function(e,t,n){n||(n={}),n.caml="FSObjType Eq 1 and Title Eq "+e.encode(),this.getListItems(this.tagsListData,function(e){t&&t(e[0])},n)}},{key:"getTagAllFolders",value:function(e,t){t||(t={}),this.getListItems(this.tagsListData,function(t){e&&e(t)},t)}},{key:"getTagEmptyFolders",value:function(e,t){t||(t={}),t.caml="FSObjType Eq 1 and ItemChildCount Eq 0",this.getListItems(this.tagsListData,function(t){e&&e(t)},t)}},{key:"getTagRefItemsToInstall",value:function(e,t,n,i){e||t||n?this.getListItems(e,function(e){i&&i(e)},{viewFields:["ID",t,n],caml:t+" IsNotNull and "+n+" IsNull"}):console.log("nothing to get")}},{key:"getTagInvalidEntries",value:function(e,t){t||(t={}),t.caml="(refListData IsNull or Number refId IsNull) and FSObjType Eq 0 with LookupId=false",t.recursive=!0,this.getListItems(this.tagsListData,function(t){e&&e(t)},t)}},{key:"getTaggedLists",value:function(){this.getListItems(this.tagsListData,function(e){console.log(e)},{recursive:!0,mapBy:"refListData"})}},{key:"checkTagEntryIntegrityById",value:function(e,t){this.getTagRefItemById(e,function(e){e?e.columns?(console.log("Tag entry must be restored at "+Object.keys(e.columns)),t&&t(e)):(console.log("Tag entry must be deleted"),t&&t(e)):(console.log("Tag's integrity is ok"),t&&t())})}},{key:"restoreTagEntryIntegrityById",value:function(e,t){var n=this;this.getTagRefItemById(e,function(e){e?e.columns?n.updateTagEntry(e.ID,e.columns,t):n.deleteTagEntry(e.ID,t):(console.log("Nothing to restore"),t&&t())})}},{key:"restoreTagEntriesIntegrityRefTags",value:function(e){var t,n,i=this,o=[],s=[];this.getTagEntryEmptyRefTag(function(a){for(var l=0;l<a.length;l++)n=a[l],t=n.FileDirRef.split("/").pop(),s.push(r.default.Deferred()),function(e,n){i.getTagFolder(t,function(t){o.push({ID:n,tag:t.ID}),s[e].resolve()})}(l,n.ID);r.default.when.apply(i,s).then(function(){console.log(o),i.updateTagEntry(null,o,e)})})}},{key:"checkTagEntriesIntegrity",value:function(e,t){var n,i={},o=[],r=[],s=this;switch(!t&&(t={}),t.select||"invalid"){case"all":n="FSObjType Eq 0 with LookupId=false";break;case"invalid":default:n="(refListData IsNull or Number refId IsNull) and FSObjType Eq 0 with LookupId=false"}var a=new Pager("/Intellect/TagsAggregator",{pageSize:50,recursive:!0,caml:n});!function t(){a.moveNext(function(n){var a;if(console.log(n),i={},s.TAGS_COLUMN_NAMES.reset(),n&&n.length){for(var l=0;l<n.length;l++)a=n[l],i[a.ID]=a;!function e(t,n){var i=Object.keys(t);var a=s.TAGS_COLUMN_NAMES.next();a&&i?(console.log(a),s.getListItems(a,function(i){!function(e,t,n){for(var i in t)refId=s.checkTagRefItems(i,s.TAGS_COLUMN_NAMES[e],n),refId&&(delete t[i],o.push({ID:~~i,refId:refId,refListData:e}))}(a,t,i),e(t,n)},{recursive:"All",caml:"Integer "+s.TAGS_COLUMN_NAMES[a]+" Includes "+i+" with LookupId=true"})):(r=r.concat(Object.keys(t).map(function(e){return~~e})),n&&n())}(i,function(){t()})}else e&&e(o,r)})}()}},{key:"restoreTagEntriesIntegrity",value:function(e,t){var n=this;this.checkTagEntriesIntegrity(function(t,i){var o=r.default.Deferred(),s=r.default.Deferred();if(!t.length&&!i.length)return console.log("Tag integrity is ok"),void(e&&e());t.length&&n.updateTagEntry(null,t,function(){console.log("Invalid tag entries updated"),o.resolve()}),i&&n.deleteTagEntry(i,function(){console.log("Unrefed tag entries deleted"),s.resolve()}),r.default.when(o,s).then(function(){console.log("Tag integrity restored"),e&&e()})},t)}},{key:"checkTagRefItems",value:function(e,t,n){for(var i=0;i<n.length;i++)if(this.checkTagRefItemById(e,n[i][t]))return n[i].ID;return!1}},{key:"checkTagRefItemById",value:function(e,t){for(var n=0;n<t.length;n++)if(t[n].get_lookupId()==e)return!0;return!1}},{key:"createTagFolder",value:function(e,t){this.createListFolder(this.tagsListData,function(e,n){t&&t(e,n)},{folder:e})}},{key:"createTagFolders",value:function(e,t){var n=this;this.getListItems(this.tagsListData,function(i){var o;console.log(i);for(var r=[],s=0;s<i.length;s++)o=i[s],r[o.Title.toLowerCase()]=o;getTagRefItems(function(i){for(var o,s,a=[],l={},u=0;u<i.length;u++){o=i[u],a=JSON.parse(o[e]);for(var c=0;c<a.length;c++)(s=(s=a[c].toLowerCase().replace(/[^a-zа-яё0-9\-]/gi," ").trim()).replace(/\s+/gi," "))&&!r[s]&&(l[s]=!0)}tagsToCreate=Object.keys(l),console.log(tagsToCreate.length),function e(i){i.length?n.createTagFolder(i.shift(),function(t,n){e(i)}):t&&t()}(tagsToCreate)})},{caml:"FSObjType Eq 1"})}},{key:"createTagEntry",value:function(e,t){e&&this.createListItem(this.tagsListData,e,t)}},{key:"updateTagEntry",value:function(e,t,n){this.updateListItem(this.tagsListData,e,t,n)}},{key:"deleteTagEntry",value:function(e,t){this.operateListItem(this.tagsListData,t,{id:e,operationType:"delete"})}},{key:"deleteTagEntryByAuthorId",value:function(e,t){var n=this;e&&this.getListItems(this.tagsListData,function(e){n.deleteListItem(n.tagsListData,Object.keys(e),t)},{caml:"Author Eq "+e,recursive:!0,mapBy:"ID"})}},{key:"deleteTagEntryDuplicates",value:function(e){var t=this;this.getTagEntryDuplicates(function(n,i){t.deleteTagEntry(i,e)})}},{key:"deleteTagEmptyFolders",value:function(e){var t=this;this.getTagEmptyFolders(function(n){t.deleteListItem(t.tagsListData,Object.keys(n),function(t){e&&e(t)})},{mapBy:"ID"})}},{key:"deleteTagNullFolders",value:function(e){var t=this;this.getListItems(this.tagsListData,function(n){t.deleteListItem(t.tagsListData,Object.keys(n),function(t){e&&e(t)})},{mapBy:"ID",caml:"FSObjType Eq 1 and Title IsNull"})}},{key:"installTagRefItemsByTextColumn",value:function(e,t,n,i){var o=this;this.getTagRefItemsToInstall(e,t,n,function(n){console.log(n),function n(i,r){var s;i.length?(s=i.shift(),function(t,n){var i,r,a=[];!function t(n,l){n.length?(r=n.shift(),(i=r.toLowerCase().replace(/[^a-zа-яё0-9\-]/gi," ").replace(/\s+/gi," ").trim())?o.getTagFolder(i,function(o){var r=o.ID;a.push({Title:i,refId:s.ID,tag:r,refListData:e,folder:i}),t(n,l)}):t(n,l)):l(a)}(t,n)}(JSON.parse(s[t]),function(t){o.createTagEntry(t,function(t,a){o.updateListItem(e,s.ID,{tags:a},function(){n(i,r)})})})):r&&r()}(n,i)})}},{key:"copyTagEntries",value:function(e,t,n,i){var o=this;this.getListItems(e,function(r){o.getTagAllFolders(function(s){for(var a,l,u,c={},f=0;f<s.length;f++)u=s[f],c[u.Title.toLowerCase()]=u.ID;!function i(s,u){var f=[];if(s){for(var p=0;p<s[t].length;p++)a=s[t][p],l=a.get_lookupValue(),f.push({Title:l,refId:s.ID,tag:c[l.toLowerCase()],refListData:e,folder:l});o.createTagEntry(f,function(t,a){var l={};l[n]=a,o.updateListItem(e,s.ID,l,function(){i(r.shift(),u)})})}else u&&u()}(r.shift(),i)})},{recursive:"All",caml:"Lookup "+t+" IsNotNull"})}},{key:"cloneTagEntries",value:function(e,t,n){var i=this,o=r.default.Deferred();i.getListAllColumns(e,function(s){s.tempTags?o.resolve():(i.clearCache(),i.createTagsLookupListColumn(e,"tempTags",function(){o.resolve()})),r.default.when(o).then(function(){console.log("merging columns..."),i.mergeListColumns(e,t,"tempTags",function(){console.log("columns merged!"),console.log("copy refItem tag columns..."),i.copyTagEntries(e,"tempTags",t,n)})})},{mapBy:"InternalName"})}},{key:"searchItems",value:function(e,t,n){var i=new SP.ClientContext,o=new Microsoft.SharePoint.Client.Search.Query.KeywordQuery(i),r=new Microsoft.SharePoint.Client.Search.Query.SearchExecutor(i);n||(n={}),e||(e=""),console.log(o),o.get_sortList().add("[formula:rank]",1),o.set_queryText(e.toLowerCase()),o.set_clientType(n.clientType||"AllResultsQuery"),o.set_queryTemplate(["{searchboxquery}","-FileExtension:jpg","-FileExtension:jpeg","-FileExtension:png","-Site:http://spps001*","-contentclass:STS_Site","-Site:http://aura.dme.aero.corp/wikilibrary/wiki/Lists*","-Site:http://aura.dme.aero.corp/app*","-Site:http://aura.dme.aero.corp/Tikhonchuk*","-Site:http://aura.dme.aero.corp/SitePages*","-Site:http://aura.dme.aero.corp/Pages/sys-*","-Site:http://aura.dme.aero.corp/PublishingImages*","-Site:http://aura.dme.aero.corp/Survey*","-Site:http://aura.dme.aero.corp/News/event*","-Site:http://aura.dme.aero.corp/social*","-Site:http://aura.dme.aero.corp/News/Lists/Posts/AllPosts.aspx","-Site:http://aura.dme.aero.corp/News/Lists/Posts/News_Disabled.aspx","-Site:http://aura.dme.aero.corp/News/Pages*","-Site:http://aura.dme.aero.corp/News/SitePages*","-Site:http://aura.dme.aero.corp/News/DocsI*","-Site:http://aura.dme.aero.corp/News/Documents*","-Site:http://aura.dme.aero.corp/News/Categories*","-Site:http://aura.dme.aero.corp/News/Lists/Comments*","-Site:http://aura.dme.aero.corp/News/Lists/List1*","-Site:http://aura.dme.aero.corp/News/Lists/List/AllItems.aspx","-Site:http://aura.dme.aero.corp/News/Lists/List/calendar.aspx","-Site:http://aura.dme.aero.corp/News/Lists/List/List_CurrentEvents.aspx","-Site:http://aura.dme.aero.corp/News/Lists/List/view*","-Site:http://aura.dme.aero.corp/News/Lists/List/mod-view.aspx","-Site:http://aura.dme.aero.corp/News/Lists/List/mod-view.aspx","-Site:http://aura.dme.aero.corp/News/Lists/List/MyItems.aspx","-Site:http://aura.dme.aero.corp/News/Lists/List/my-sub.aspx","-Site:http://aura.dme.aero.corp/News/Lists/List2*","-Site:http://aura.dme.aero.corp/News/Lists/List3*","-Site:http://aura.dme.aero.corp/News/Int*","-Site:http://aura.dme.aero.corp/News/PublishingImages*","-Site:http://aura.dme.aero.corp/Intellect/km*","-Site:http://aura.dme.aero.corp/Intellect/OZN_Docs/*","-Site:http://aura.dme.aero.corp/board/Lists/Discussions/*","-Site:http://aura.dme.aero.corp/buro/Lists/MagazineIssues/*","-Site:http://aura.dme.aero.corp/Intellect/%D0%9E%D1%82%D1%87%D0%B5%D1%82%D1%8B%20%D0%BE%20%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0%D1%85*","-Site:http://aura.dme.aero.corp/Intellect/PublishingImages*","-Site:http://aura.dme.aero.corp/Intellect/StorageLib*","-Site:http://wiki.aura.dme.aero.corp/Media%20Gallery/*","-Site:http://wiki.aura.dme.aero.corp/Lists/List1*","-Site:http://wiki.aura.dme.aero.corp/survey*","-Site:http://wiki.aura.dme.aero.corp/Pages*","-Site:http://wiki.aura.dme.aero.corp/Pages/*","-Site:http://wiki.aura.dme.aero.corp/*","-Site:http://aura.dme.aero.corp/News*","-Site:http://aura.dme.aero.corp/board*","-Site:http://aura.dme.aero.corp/board/Lists/Views/*","-Site:http://aura.dme.aero.corp/Intellect/Lists/Training/*","-Site:http://aura.dme.aero.corp/board/Lists/DiscussionUsers/*","-Site:http://wiki.aura.dme.aero.corp/Lists/Survey*","-Site:http://wiki.aura.dme.aero.corp/PublishingImages*","-Site:http://aura.dme.aero.corp/marketingpresentations/DocLib/Forms/*","-Site:http://aura.dme.aero.corp/crowd*","-Site:http://aura.dme.aero.corp/Intellect/Lists/iLikeDislikes/*","-Site:http://aura.dme.aero.corp/Intellect/Lists/Discussions/*","-Site:http://aura.dme.aero.corp/Intellect/Lists/DiscussionUsers/*","-Site:http://aura.dme.aero.corp/AM/*","-Site:http://aura.dme.aero.corp/System/*","-Site:http://aura.dme.aero.corp/social/*","-Site:http://aura.dme.aero.corp/Forum/*","-Site:http://mysites.aura.dme.aero.corp/*","-Site:http://aura.dme.aero.corp/Intellect/Lists/*","-Site:http://aura.dme.aero.corp/buro/Lists/*","-Site:http://aura.dme.aero.corp/buro/Lists/XEvents/*","-Site:http://aura.dme.aero.corp/buro/Lists/XEventFlow/*","-Site:http://aura.dme.aero.corp/buro/DocLib4/Forms/*"].join(" ")),o.set_refiners(n.refiners||"FileType(filter=21/0/*),contentclass(filter=10/0/*),ContentTypeId(filter=15/0/*),WebTemplate(filter=10/0/*),DisplayAuthor(filter=9/0/*)"),o.set_rowsPerPage(n.rowsPerPage||10),o.set_totalRowsExactMinimum(n.set_totalRowsExactMinimum||11),void 0!==n.blockDedupeMode&&o.set_blockDedupeMode(n.blockDedupeMode),void 0!==n.bypassResultTypes&&o.set_bypassResultTypes(n.bypassResultTypes),void 0!==n.collapseSpecification&&o.set_collapseSpecification(n.collapseSpecification),void 0!==n.culture&&o.set_culture(n.culture),void 0!==n.desiredSnippetLength&&o.set_desiredSnippetLength(n.desiredSnippetLength),void 0!==n.enableInterleaving&&o.set_enableInterleaving(n.enableInterleaving),void 0!==n.enableNicknames&&o.set_enableNicknames(n.enableNicknames),void 0!==n.enableOrderHitHighlightedProperty&&o.set_enableOrderHitHighlightedProperty(n.enableOrderHitHighlightedProperty),void 0!==n.enablePhonetic&&o.set_enablePhonetic(n.enablePhonetic),void 0!==n.enableQueryRules&&o.set_enableQueryRules(n.enableQueryRules),void 0!==n.enableSorting&&o.set_enableSorting(n.enableSorting),void 0!==n.enableStemming&&o.set_enableStemming(n.enableStemming),void 0!==n.generateBlockRankLog&&o.set_generateBlockRankLog(n.generateBlockRankLog),void 0!==n.hiddenConstrains&&o.set_hiddenConstrains(n.hiddenConstrains),void 0!==n.hitHighlightedMultivaluePropertyLimit&&o.set_hitHighlightedMultivaluePropertyLimit(n.hitHighlightedMultivaluePropertyLimit),void 0!==n.impressionID&&o.set_impressionID(n.impressionID),void 0!==n.maxSnippetLength&&o.set_maxSnippetLength(n.maxSnippetLength),void 0!==n.objectVersion&&o.set_objectVersion(n.objectVersion),void 0!==n.personalizationData&&o.set_personalizationData(n.personalizationData),void 0!==n.processBestBets&&o.set_processBestBets(n.processBestBets),void 0!==n.processPersonalFavorites&&o.set_processPersonalFavorites(n.processPersonalFavorites),void 0!==n.queryTag&&o.set_queryTag(n.queryTag),void 0!==n.rankingModelId&&o.set_rankingModelId(n.rankingModelId),void 0!==n.refinementFilters&&o.set_refinementFilters(n.refinementFilters),void 0!==n.reorderingRules&&o.set_refinementFilters(n.refinementFilters),void 0!==n.resultsUrl&&o.set_resultsUrl(n.resultsUrl),void 0!==n.rowLimit&&o.set_rowLimit(n.rowLimit),void 0!==n.startRow&&o.set_startRow(n.startRow),void 0!==n.showPeopleNameSuggestions&&o.set_showPeopleNameSuggestions(n.showPeopleNameSuggestions),void 0!==n.summaryLength&&o.set_summaryLength(n.summaryLength),void 0!==n.timeZoneId&&o.set_timeZoneId(n.timeZoneId),void 0!==n.timeout&&o.set_timeout(n.timeout),void 0!==n.trimDuplicates&&o.set_trimDuplicates(n.trimDuplicates),void 0!==n.trimDuplicatesIncludeId&&o.set_trimDuplicatesIncludeId(n.trimDuplicatesIncludeId),void 0!==n.uiLanguage&&o.set_uiLanguage(n.uiLanguage),this.load(i,o);var s=r.executeQuery(o);this.execute(i,function(){console.log(o.get_objectData().get_properties());var e=s.get_value().ResultTables,n=[];if(console.log(e),e.length){for(var i=0;i<e.length;i++)n=n.concat(e[i].ResultRows);t&&t(n)}else t&&t()},this.onQueryFailed)}},{key:"parseCamlString",value:function(e){if(!e||/\<|\>/.test(e))return e;var t=e.length-1;return"("===e[0]&&")"===e[t]&&(e=e.substring(1,t)),this.getCamlQuery(this.parseCamlGroupR(e))}},{key:"camlLog",value:function(e){/MSIE|rv:11.0/i.test(navigator.userAgent)||console.dirxml(r.default.parseXML(e))}},{key:"parseCamlExpression",value:function(e){var t,n,i,o,r={};if(!e||this.GROUP_REGEXP.test(e))return e;var s,a={};2===(s=e.split(/\s+with\s+/)).length&&(t=s[1]);var l=s[0].split(this.OPERANDS_REGEXP),u=l[0],c=l[1],f=l[3],p=u.match(this.COLUMN_TYPES_REGEXP);if(p?(i=p[1],n=u.substring(i.length).trim()):(n=u.trim(),i=this.COLUMN_TYPES[n]),t)if((s=t.split(";")).length>1)for(var d=0;d<s.length;d++)a[(o=s[d].split("="))[0].trim()]=o[1].trim();else a[(o=s[0].split("="))[0].trim()]=o[1].trim();return/\,/.test(f)?(f=f.split(",").decode(),/eq/i.test(c)&&(c="In")):(f=f.decode(),"DateTime"===i&&(f=new Date(f).format("yyyy-MM-ddTHH:mm:ssZ"))),r[n]="DateTime"===i?{Operand:c,Value:f,IncludeTimeValue:"True"}:{Operand:c,Value:f},"false"===a.LookupId?(r[n].TypeValue="Lookup",r[n].LookupId=!1):r[n].Type=i,r}},{key:"getValueFromOuterBraces",value:function(e){var t=e.match(new RegExp("^[^\\(]*\\((.*"+this.GROUP_REGEXP_STR+".*)\\)[^\\)]*$","i"));return t&&t[1]?t[1]:e}},{key:"parseCamlGroupR",value:function(e){var t,n,i,o,r,s=new RegExp("_dummy_"),a="",l=new RegExp(this.GROUP_REGEXP_STR,"i"),u={},c=e.match(/^[^\(]*\((.+)\)[^\)]*$/);if(c){if(r=c[1],a=e.replace(r,"_dummy_"),dummySplits=a.split(l),3!==dummySplits.length)return this.parseCamlExpression(dummySplits[0]);s.test(dummySplits[0])?(t=this.getValueFromOuterBraces(dummySplits[0].replace("_dummy_",r)),n=dummySplits[2]):s.test(dummySplits[2])&&(t=dummySplits[0],n=this.getValueFromOuterBraces(dummySplits[2].replace("_dummy_",r))),o=dummySplits[1].toUpperCase()}else{if(3!==(i=e.split(l)).length)return this.parseCamlExpression(i[0]);t=i[0],n=i[2],o=i[1].toUpperCase()}return u[o]=[this.parseCamlGroupR(t),this.parseCamlGroupR(n)],u}},{key:"getCamlQuery",value:function(t){var n=i(t);function i(t){var n;switch(e(t)){case"array":for(var o in n=[],t)n[o]=i(t[o]);break;case"object":for(var o in n={},t)n[o]=i(t[o]);break;default:n=t}return n}function o(e,t,n,i){var o,r,s=(o=0,r={},data=t.replace(/".[^\"]+"/g,function(e){return r["SUBSTITUTXPRESSION"+ ++o]=e.split('"').join(""),"SUBSTITUTXPRESSION"+o+" "}),[data,r]),a=(t=s[0]).split(/\,\s+|\;\s+|\;+|\,+/g),l=[];return function t(o){void 0===o&&(o="");var r=a.pop();if(void 0===r)return o;l=r.split(/\s+/g);var u=function t(o){void 0===o&&(o="");var r,a,u=l.pop();if(void 0===u)return o;if(r=u,a=s[1],data=r.replace(/SUBSTITUTXPRESSION\S*/g,function(e){return a[e]}),""!=(u=data.trim())){var c="";if(0==u.indexOf("-"))u=u.replace("-",""),c="\t\t\t\t\t\t<Neq>\t\t\t\t\t\t\t<FieldRef Name='"+e+"' "+i+" />\t\t\t\t\t\t\t<Value "+n+">"+u+"</Value>\t\t\t\t\t\t</Neq>\t\t\t\t\t";else{var f=fromLatinLayout(u),p=fromRussianLayout(u),d=!1,h=!1;f!=u&&(d=!0),p!=u&&(h=!0),c="\t\t\t\t\t\t<Contains>\t\t\t\t\t\t\t<FieldRef Name='"+e+"' "+i+"/>\t\t\t\t\t\t\t<Value "+n+">"+u+"</Value>\t\t\t\t\t\t</Contains>\t\t\t\t\t",h&&(c="\t\t\t\t\t\t\t<Or>\t\t\t\t\t\t\t\t"+c+"\t\t\t\t\t\t\t\t<Contains>\t\t\t\t\t\t\t\t\t<FieldRef Name='"+e+"' "+i+"/>\t\t\t\t\t\t\t\t\t<Value "+n+">"+p+"</Value>\t\t\t\t\t\t\t\t</Contains>\t\t\t\t\t\t\t</Or>\t\t\t\t\t\t"),d&&(c="\t\t\t\t\t\t\t<Or>\t\t\t\t\t\t\t\t"+c+"\t\t\t\t\t\t\t\t<Contains>\t\t\t\t\t\t\t\t\t<FieldRef Name='"+e+"' "+i+"/>\t\t\t\t\t\t\t\t\t<Value "+n+">"+f+"</Value>\t\t\t\t\t\t\t\t</Contains>\t\t\t\t\t\t\t</Or>\t\t\t\t\t\t")}o=""==o?c:"<And>"+o+c+"</And>"}return t(o)}();return t(o=""==o?u:"<Or>"+o+u+"</Or>")}()}var s="";if(void 0===n||null==n)return s='<Gt><FieldRef Name="ID" /><Value Type="Counter">0</Value></Gt>';switch(n.constructor){case Number:s='<Eq><FieldRef Name="ID" /><Value Type="Counter">'+n+"</Value></Eq>";break;case String:s='<Eq><FieldRef Name="Title" /><Value Type="Text">'+n+"</Value></Eq>";break;case Array:var a="",l=!1,u=i(n);for(var c in u){var f=u[c];f.constructor==Number?a=a+'<Value Type="Counter">'+f+"</Value>":f.constructor==String&&(a=a+'<Value Type="Text">'+f+"</Value>",l=!0)}s=l?"\t\t\t\t\t<In>\t\t\t\t\t\t<FieldRef Name='Title' />\t\t\t\t\t\t<Values>"+a+"</Values>\t\t\t\t\t</In>\t\t\t\t":"\t\t\t\t\t<In>\t\t\t\t\t\t<FieldRef Name='ID' />\t\t\t\t\t\t<Values>"+a+"</Values>\t\t\t\t\t</In>\t\t\t\t";break;case Object:u=i(n);for(var p in u){var d=u[p],h="";if("OR"==p)h=this.getCamlQueryOR(d);else if("AND"==p)h=this.getCamlQueryAND(d);else{p=p.split("|")[0],null==d&&(d="null");var g="",y="",m="Text",v="";"number"==typeof d&&(g=' Type="Number"',m="Number"),"ID"==p&&(g=' Type="Counter"',m="Counter"),"string"==typeof d&&(g=' Type="Text"',m="Text"),"boolean"==typeof d&&(g=' Type="Boolean"',m="Boolean"),void 0!==d.Type&&("Lookup"==d.Type&&(v=' LookupId="True"'),"LookupUser"==d.Type?(v=' LookupId="True"',g=' Type="Integer"',m="Integer"):(g=' Type="'+d.Type+'"',m=d.Type)),void 0!==d.TypeRef&&(y=' Type="'+d.TypeRef+'"'),void 0!==d.TypeValue&&(g=' Type="'+d.TypeValue+'"',m=d.TypeValue),void 0!==d.LookupId&&(v=' LookupId="'+d.LookupId+'"'),void 0!==d.IncludeTimeValue&&(g+=" IncludeTimeValue='"+d.IncludeTimeValue+"'");var b="Eq";void 0!==d.Operand&&(b=d.Operand),void 0!==d.Value&&(d=d.Value),""==g&&("number"==typeof d&&(g=' Type="Number"',m="Number"),"string"==typeof d&&(g=' Type="Text"',m="Text"),"boolean"==typeof d&&(g=' Type="Boolean"',m="Boolean")),null==d&&(d="null"),d.constructor==Number&&""==g&&(g=' Type="Number"',m="Number"),h="<"+b+">\t\t\t\t\t\t\t\t\t<FieldRef Name='"+p+"'"+v+y+" />\t\t\t\t\t\t\t\t\t<Value"+g+">"+d+"</Value>\t\t\t\t\t\t\t\t</"+b+">";var S=["Eq","Neq","BeginsWith","Contains","Includes","NotIncludes","In","IsNull","IsNotNull","Gt","Geq","Lt","Leq","Search"],x=[];if("Search"==b)h=o(p,d,g,v+y);else if(d.constructor==Array&&"In"!=b){for(var _ in x=[],d){var k={};k[p]={Operand:b,Value:d[_],Type:m,LookupId:u[p].LookupId},x.push(k)}h=this.getCamlQueryOR(x)}else h="<"+b+">\t\t\t\t\t\t\t\t\t\t\t<FieldRef Name='"+p+"'"+v+y+" />\t\t\t\t\t\t\t\t\t\t\t<Value"+g+">"+d+"</Value>\t\t\t\t\t\t\t\t\t\t</"+b+">";if(r.default.inArray(b,S)<0)return console.log('Error: "{0}" operand is not allowed in getCamlQuery'.format(b)),void console.log("Allowed operand for refernce: {0}".format(S.join(", ")));if("null"===d||"IsNull"==b)h="\t\t\t\t\t\t\t<IsNull>\t\t\t\t\t\t\t\t<FieldRef Name='"+p+"'"+v+y+" />\t\t\t\t\t\t\t</IsNull>\t\t\t\t\t\t";else if("IsNotNull"==b)h="\t\t\t\t\t\t\t<IsNotNull>\t\t\t\t\t\t\t\t<FieldRef Name='"+p+"'"+v+y+" />\t\t\t\t\t\t\t</IsNotNull>\t\t\t\t\t\t";else if(0==x.length)if(d.constructor==Array){if(""==g)switch(d[0].constructor){case Boolean:g=' Type="Boolean"',m="Boolean";break;case Number:g=' Type="Number"',m="Number";break;case String:g=' Type="Text"',m="Text"}if(d.length>500){h='<IsNotNull><FieldRef Name="ID"></FieldRef><IsNotNull>';var I=this.chunkItems(d,500);for(c=0;c<I.length;c++)h="\t\t\t\t\t\t\t\t\t\t\t\t<Or>\t\t\t\t\t\t\t\t\t\t\t\t\t"+h+"\t\t\t\t\t\t\t\t\t\t\t\t\t<In>\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FieldRef Name='"+p+"'"+v+y+" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Values>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Value"+g+">"+I[c].join("</Value><Value"+g+">")+"</Value>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Values>\t\t\t\t\t\t\t\t\t\t\t\t\t</In>\t\t\t\t\t\t\t\t\t\t\t\t</Or>"}else h="<In>\t\t\t\t\t\t\t\t\t\t\t\t<FieldRef Name='"+p+"'"+v+y+" />\t\t\t\t\t\t\t\t\t\t\t\t<Values>\t\t\t\t\t\t\t\t\t\t\t\t\t<Value"+g+">"+d.join("</Value><Value"+g+">")+"</Value>\t\t\t\t\t\t\t\t\t\t\t\t</Values>\t\t\t\t\t\t\t\t\t\t\t</In>"}else if("In"==b)if(d.length>500){h='<IsNotNull><FieldRef Name="ID"></FieldRef><IsNotNull>';for(I=this.chunkItems(d,500),c=0;c<I.length;c++)h="\t\t\t\t\t\t\t\t\t\t\t\t<Or>\t\t\t\t\t\t\t\t\t\t\t\t\t"+h+"\t\t\t\t\t\t\t\t\t\t\t\t\t<In>\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FieldRef Name='"+p+"'"+v+y+" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Values>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Value"+g+">"+I[c].join("</Value><Value"+g+">")+"</Value>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Values>\t\t\t\t\t\t\t\t\t\t\t\t\t</In>\t\t\t\t\t\t\t\t\t\t\t\t</Or>"}else h="\t\t\t\t\t\t\t\t<In>\t\t\t\t\t\t\t\t\t<FieldRef Name='"+p+"'"+v+y+" />\t\t\t\t\t\t\t\t\t<Values>\t\t\t\t\t\t\t\t\t\t<Value"+g+">"+d+"</Value>\t\t\t\t\t\t\t\t\t</Values>\t\t\t\t\t\t\t\t</In>"}s=""!=s?"\t\t\t\t\t\t<And>\t\t\t\t\t\t\t"+s+"\t\t\t\t\t\t\t"+h+"\t\t\t\t\t\t</And>\t\t\t\t\t":h}}return s}},{key:"getCamlResult",value:function(t,n,i,o){var r="object"===e(t)?this.getCamlQuery(t):t,s="";if(o){var a=o.split(":");s='<OrderBy><FieldRef Name="'+a[0]+'" '+("DESC"==a[1]?'Ascending="FALSE"':'Ascending="TRUE"')+"/></OrderBy>"}return"<View"+(i?"All"==i||"RecursiveAll"==i?' Scope="RecursiveAll"':' Scope="Recursive"':"")+">\t\t\t\t\t\t<Query>"+(r?"<Where>"+r+"</Where>":"")+s+"</Query>\t\t\t\t\t\t<RowLimit>"+(n||2e4)+"</RowLimit>\t\t\t\t\t</View>"}},{key:"getCamlQueryOR",value:function(e){if(e.constructor!=Array)throw"OR constructor require array";var t=this.getCamlQuery(e.pop());for(var n in e)t="<Or>\t\t\t"+t+"\t\t\t"+this.getCamlQuery(e[n])+"\t\t</Or>";return t}},{key:"getCamlQueryAND",value:function(e){if(e.constructor!=Array)throw"And constructor require array";var t=this.getCamlQuery(e.pop());for(var n in e)t="<And>\t\t\t"+t+"\t\t\t"+this.getCamlQuery(e[n])+"\t\t</And>";return t}},{key:"getListDataREST",value:function(t){if("string"===e(t)){var n=t.split("/");return{host:"http://aura.dme.aero.corp",title:n.pop(),path:(t=n.join("/"))||"/"}}}},{key:"getListData",value:function(t){if(!t)return console.log("listData is required!"),{};if("object"===e(t))return t;var n=t.split("/");return{host:"http://aura.dme.aero.corp",title:n.pop(),path:(t=n.join("/"))||"/"}}},{key:"setListItem",value:function(e,t,n){var i,o,r,s=[],a=[];for(var l in n){var u=n[l];if(t[l])switch(t[l].TypeAsString){case"Text":case"Note":case"Number":case"Boolean":case"Choice":case"URL":case"ModStat":case"File":case"DateTime":e.set_item(t[l].InternalName,u);break;case"Lookup":r=new SP.FieldLookupValue,void 0!==u&&(null===u?e.set_item(t[l].InternalName,null):(r.set_lookupId(u.get_lookupId?u.get_lookupId():~~u),e.set_item(t[l].InternalName,r)));break;case"LookupMulti":if(a=[],void 0!==u)if(null===u)e.set_item(t[l].InternalName,null);else{for(var c=0;c<u.length;c++)r=new SP.FieldLookupValue,(o=u[c])&&r.set_lookupId(o.get_lookupId?o.get_lookupId():~~o),a.push(o?r:null);e.set_item(t[l].InternalName,a)}break;case"User":i=new SP.FieldUserValue,null===u?e.set_item(t[l].InternalName,null):(i.set_lookupId(u.get_lookupId?u.get_lookupId():~~u),e.set_item(t[l].InternalName,i));break;case"UserMulti":if(s=[],null===u)e.set_item(t[l].InternalName,null);else{for(c=0;c<u.length;c++)i=new SP.FieldUserValue,o=u[c],i.set_lookupId(o&&o.get_lookupId?o.get_lookupId():~~o),s.push(i);e.set_item(t[l].InternalName,s)}}else console.log("Missed column: "+l)}e.update()}},{key:"onQueryFailed",value:function(e,t){console.warn("Request failed. "+t.get_message()+"\n"+t.get_stackTrace())}},{key:"formatFolderRelativeUrl",value:function(t,n){var i,o,r=0;"string"===e(t)&&(t=this.getListData(t)),n&&(i=n.isShort,r=n.listType||0,o=n.folder);new SP.ClientContext(t.path);var s=t.path+(r?"/":"/Lists/")+t.title.replace(/-/g,""),a=[],l="";if(o){for(var u=o.toString().split("/"),c=u.length-1;c>=0;c--){var f=u[c];if(f){if(f===t.title&&"Lists"===u[c-1])break;if(/\./.test(f))break;a.unshift(f)}}l="/"+a.join("/")}return i?l:s+l}},{key:"prepareResponseCollection",value:function(t,n){var i,o,r;if(n&&(i=n.isExpanded,o=n.mapBy),o){var s,a={};l(t,i?function(t,n){if(t.get_item){var i=t.get_item(o);"object"===e(i)&&(i=i.get_lookupId()),a[i]=t}else(r=t.get_fieldValues?t.get_fieldValues():t.get_objectData().get_properties())[o]||console.log('Wrong "mapBy" parameter: '+o),i=r[o],"object"===e(i)&&(i=i.get_lookupId()),a[i]=t}:function(t,n){(r=t.get_fieldValues?t.get_fieldValues():t.get_objectData().get_properties())[o]||console.log('Wrong "mapBy" parameter: '+o),s=r[o],"object"===e(s)&&(s=s.get_lookupId()),a[s]=r})}else{a=[];l(t,i?function(e){a.push(e)}:function(e,t){a.push(e.get_fieldValues?e.get_fieldValues():e.get_objectData().get_properties())})}return a;function l(e,t){if(e.$2_1)for(var n=e.$2_1,i=n.length,o=0;o<i;o++)t(n[o],o);else for(var r in e)t(e[r],r)}}},{key:"load",value:function(e,t,n){n?t.getEnumerator?e.load(t,"Include("+n+")"):e.load(t,n):e.load(t)}},{key:"loadQuery",value:function(e,t,n){return n?t.getEnumerator?e.loadQuery(t,"Include("+n+")"):e.loadQuery(t,n):e.loadQuery(t)}},{key:"execute",value:function(t,n,i,o){var r=this;if(o){var s=t.get_url();this.isClientContextBusy[s]?(this.requests.get[s]||(this.requests.get[s]=[]),this.requests.get[s].push({clientContext:t,cbOk:n,cbFail:i})):(!this.requests.get[s]&&(this.requests.get[s]=[]),this.isClientContextBusy[s]=!0,t.executeQueryAsync(Function.createDelegate(r,function(e,t){r.requestsCount.success++,r.isClientContextBusy[s]=!1,n&&n(e,t);var i=r.requests.get[s].shift();i&&r.execute(i.clientContext,i.cbOk,i.cbFail,o)}),Function.createDelegate(r,function(e,t){r.requestsCount.fail++,r.isClientContextBusy[s]=!1,i&&i(e,t)})))}else t.executeQueryAsync(Function.createDelegate(r,function(e,t){r.requestsCount.success++,n&&n(e,t)}),Function.createDelegate(r,"function"===e(i)?function(e,t){r.requestsCount.fail++,i(e,t)}:function(e,t){r.requestsCount.fail++,r.onQueryFailed(e,t)}))}},{key:"checkNodeExists",value:function(e,t){return function e(n,i){return!(i<t.length)||!!n[t[i]]&&e(n[t[i]],++i)}(e,0)}},{key:"createNodeTree",value:function(e,t){return function e(n,i){if(!(i<t.length))return n;n[t[i]]||(t.length===i+1?n[t[i]]=void 0:n[t[i]]={}),e(n[t[i]],++i)}(e,0)}},{key:"setCache",value:function(t,n){var i;for(var o in n)i=n[o],"array"!==e(i)&&(i.get_id||console.log(i),t[i.get_title?i.get_title():i.get_id()]=i)}},{key:"initCache",value:function(){this.cache={user:void 0,currentUser:void 0,currentUserAD:void 0,usersAD:{},webs:{},web:{},listsAll:{},lists:{},list:{},columnsAll:{},columns:{},column:{},folder:{},items:{},item:{},itemsHashed:{}}}},{key:"clearCache",value:function(){this.initCache()}},{key:"getParentByKeyR",value:function(e,t){if(void 0!==t[e])return t;for(var n in t)if("object"===i(t[n]))return this.getParentByKeyR(e,t[n])}},{key:"getValueByKeyR",value:function(e,t){if(void 0!==t[e])return t[e];for(var n in t)if("object"===i(t[n]))return this.getValueByKeyR(e,t[n])}},{key:"setValueByKeyR",value:function(e,t,n){(this.getParentByKeyR(e,t)||t)[e]=n}},{key:"chunkItems",value:function(e,t){var n,i=0,o=[],r=t||this.CHUNK_MAX_LENGTH;if(e&&e.length)if(e.length>r){n=Math.ceil(e.length/r);for(var s=1;s<=n;s++)o.push(e.slice(i,i+r)),i+=r}else o=[e];return o}},{key:"getRequestDigestREST",value:function(e,t){r.default.ajax({url:(e&&"/"!==e?e:"")+"/_api/contextinfo",headers:{Accept:"application/json; odata=verbose"},method:"POST",success:function(e){t&&t(e.d.GetContextWebInformation.FormDigestValue)},error:function(e){console.log(e)}})}},{key:"encodeDecodePatching",value:function(){Object.defineProperty(Array.prototype,"encode",{enumerable:!1,value:function(){return this.map(function(e){return encodeURIComponent(e)}).join()}}),Object.defineProperty(Array.prototype,"decode",{enumerable:!1,value:function(){return this.map(function(e){return decodeURIComponent(e)})}}),Object.defineProperty(String.prototype,"encode",{enumerable:!1,value:function(){var e=encodeURIComponent(this);return e&&(e=e.replace(/\(/g,"&#040;").replace(/\)/g,"&#041;")),e}}),Object.defineProperty(String.prototype,"decode",{enumerable:!1,value:function(){var e=this;return e&&(e=e.replace(/&#040;/g,"(").replace(/&#041;/g,")")),e=decodeURIComponent(e)}})}}]),t}();t.default=new u}).call(this,n(33).typeOf)},function(e,t,n){"use strict";(function(e){var t,i=n(37),o=(t=i)&&t.__esModule?t:{default:t};console.log(o.default),o.default.getRequestDigestREST("/",e),window.spx=o.default}).call(this,n(33).log)}]);
//# sourceMappingURL=index.js.map